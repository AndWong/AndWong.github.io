{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/solar-theme-hexo/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/apple-touch-icon.png","path":"images/apple-touch-icon.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/earth.png","path":"images/earth.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/favicon-192x192.png","path":"images/favicon-192x192.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/logo.png","path":"images/logo.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/mars.png","path":"images/mars.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/mercury.png","path":"images/mercury.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/shadow.png","path":"images/shadow.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/venus.png","path":"images/venus.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/jupiter.png","path":"images/jupiter.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/sun.png","path":"images/sun.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/justified-gallery/jquery.justifiedGallery.min.js","path":"lib/justified-gallery/jquery.justifiedGallery.min.js","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/justified-gallery/justifiedGallery.min.css","path":"lib/justified-gallery/justifiedGallery.min.css","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/styles.css","path":"lib/meslo-LG/styles.css","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/images/Solar.png","path":"images/Solar.png","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/jquery/jquery.min.js","path":"lib/jquery/jquery.min.js","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Italic.ttf","path":"lib/meslo-LG/fonts/MesloLGL-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Italic.ttf","path":"lib/meslo-LG/fonts/MesloLGM-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Italic.ttf","path":"lib/meslo-LG/fonts/MesloLGS-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Bold.ttf","path":"lib/meslo-LG/fonts/MesloLGL-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-BoldItalic.ttf","path":"lib/meslo-LG/fonts/MesloLGL-BoldItalic.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Regular.ttf","path":"lib/meslo-LG/fonts/MesloLGL-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Bold.ttf","path":"lib/meslo-LG/fonts/MesloLGM-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Regular.ttf","path":"lib/meslo-LG/fonts/MesloLGM-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Bold.ttf","path":"lib/meslo-LG/fonts/MesloLGS-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-BoldItalic.ttf","path":"lib/meslo-LG/fonts/MesloLGS-BoldItalic.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Regular.ttf","path":"lib/meslo-LG/fonts/MesloLGS-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-BoldItalic.ttf","path":"lib/meslo-LG/fonts/MesloLGM-BoldItalic.ttf","modified":1,"renderable":1}],"Cache":[{"_id":"themes/solar-theme-hexo/LICENSE","hash":"5ba0225e835bf8218d1524f481efc50c85447745","modified":1486815625213},{"_id":"themes/solar-theme-hexo/README.md","hash":"2ff73c09ebd6629da69d289f29849ab3047d948b","modified":1486815625213},{"_id":"themes/solar-theme-hexo/_config.yml","hash":"efb38583b0e54ad4020a79fbad4f250c03bcd4d5","modified":1487334460463},{"_id":"source/_posts/Android-SQLite的使用.md","hash":"42bffe06b1ab7321295d76bd7af9b5433e88f469","modified":1487333796828},{"_id":"source/_posts/Android中Handler的简单终结.md","hash":"a7d78e1a05811b58f5ae081385244d0436a15367","modified":1487333761969},{"_id":"source/_posts/Android事件分发机制的简单解读.md","hash":"49ce5b3a7d84fadfed701dd09dbb6c3843e0d029","modified":1487333914192},{"_id":"source/_posts/Android动态修改某个控件大小.md","hash":"a9d0ae733169cda36f2f43b2e1d78d1bf7ce4cb1","modified":1487333788920},{"_id":"source/_posts/Android设置全屏的几种方式.md","hash":"84d0b40c76a9bf8d74687baf33d9ea764fa618ab","modified":1487333781596},{"_id":"source/_posts/EditText相关.md","hash":"17508e7fb94ed81c7ab287f054a747625295bb6f","modified":1487333755077},{"_id":"source/_posts/Fragment的管理.md","hash":"cfeab7ba7e6ecfaf5f915c3b263840fd976d7089","modified":1487506919012},{"_id":"source/_posts/Java注解反射.md","hash":"c34f1b6ad914fd936e2b3a6a3b6a8a7b7ebbefae","modified":1487424686974},{"_id":"source/_posts/MVP与MVVM.md","hash":"d89503fe3edb60d036e559c339d157dbd0c5863a","modified":1487506564332},{"_id":"source/_posts/Markdown的初级使用.md","hash":"3be3b4ff220e5b337ca0d0f945d9e8cc7bb76d38","modified":1487333729001},{"_id":"source/_posts/WebView-获取网页源码.md","hash":"b84d153822e1a5dd5647d85ae6f7d22e5dac42ca","modified":1487333736201},{"_id":"source/_posts/WiFi-Portal检测.md","hash":"ea06c9ae734234bd707abe38ef59f111b1db1944","modified":1487333745485},{"_id":"source/_posts/gitbub-blog.md","hash":"a304a0c9cc8e739e924fd8bb2b062d27d9d15487","modified":1487333720906},{"_id":"source/_posts/一套临时使用的图片压缩缓存上传方案.md","hash":"c4c1f477c8821ab4155e29bbce76bc8e707c0884","modified":1487336940816},{"_id":"source/_posts/四大组件之Activity.md","hash":"fc91bdf2be9229c825dbe2ee1ec047a9d0e1bf3a","modified":1487333805960},{"_id":"source/_posts/四大组件之BroadcastReceiver.md","hash":"8f41b5dc0ced4b2c4a4225d5c22e8389b1122031","modified":1487424671742},{"_id":"source/_posts/四大组件之Service.md","hash":"66506225f4a66f35b1a05e177931c59e77471224","modified":1487336803288},{"_id":"source/_posts/如何在moudle中引入aar.md","hash":"2146cd2a917fbb7e6ba6307b709887a5f3b66948","modified":1487333812544},{"_id":"source/_posts/自定义View.md","hash":"82eaae3f7da71f9ff4e9ddaf79c570087e3f1643","modified":1487396962295},{"_id":"source/_posts/记一次使用Realm的体会.md","hash":"19b1ceca5564ef7c246eabc9e7a0d0d5d267f6ca","modified":1487333858600},{"_id":"themes/solar-theme-hexo/layout/archive.ejs","hash":"f9c0434f023bdf2858aa8447137463c3224814be","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/index.ejs","hash":"0ea23cf9f01820a7e1c86600110afa876041cd25","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout.ejs","hash":"52b18d33641395aa85c1f099380ffe79eb8dd3e1","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/page.ejs","hash":"b6b7b1e6dc856a0e62f35da0151f67ba41143e04","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/post.ejs","hash":"2731e597b5d1714a6f5a775c432e99785f02a3e3","modified":1486815625217},{"_id":"themes/solar-theme-hexo/scripts/meta.js","hash":"fa6055a39851c9953d033e70c1614547b94dce60","modified":1486815625217},{"_id":"themes/solar-theme-hexo/scripts/thumbnail.js","hash":"df8829fd8c3119650037eba5ec11bdce06acff9d","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/banner.ejs","hash":"2611a9acb5392f425531610f5a12d396270041f7","modified":1486815625213},{"_id":"themes/solar-theme-hexo/layout/_partial/comments.ejs","hash":"853a4500da515ef3facc51a055886eaf8efd080d","modified":1486815625213},{"_id":"themes/solar-theme-hexo/layout/_partial/footer.ejs","hash":"af395fb3f8787eadaf37cb96dd3769d91203b044","modified":1487333556250},{"_id":"themes/solar-theme-hexo/layout/_partial/head.ejs","hash":"5b6f73a4fb96edde3005f90063509bf851714f72","modified":1486815625213},{"_id":"themes/solar-theme-hexo/layout/_partial/header.ejs","hash":"889fe54bbfd1fb3357e8c0614d57a437a72f782a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/scripts.ejs","hash":"264e49c76744a2ce5be4cd69910cab8e0f517eda","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/archive.ejs","hash":"f9c0434f023bdf2858aa8447137463c3224814be","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/index.ejs","hash":"0ea23cf9f01820a7e1c86600110afa876041cd25","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/layout.ejs","hash":"52b18d33641395aa85c1f099380ffe79eb8dd3e1","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/page.ejs","hash":"b6b7b1e6dc856a0e62f35da0151f67ba41143e04","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/post.ejs","hash":"2731e597b5d1714a6f5a775c432e99785f02a3e3","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_extend.styl","hash":"2d360cc07d3cfe10fd95640346515f51fa0ea799","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_mixins.styl","hash":"c921ceb620deedddd38c9cec28190995e8764bab","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_util.styl","hash":"f8e286a21c7ec3e771d5ddeb2909ac92390af9bd","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_variables.styl","hash":"05dfdc680b2a156f615433a5978bf80178acb26f","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/style.styl","hash":"2b9c9697d30759cb3c49b52486b6fc34bcfbe464","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/images/apple-touch-icon.png","hash":"bb91acbedda435287809e41148b1b255cdf957dc","modified":1486815625225},{"_id":"themes/solar-theme-hexo/source/images/earth.png","hash":"2cdcc68e36457410c633a578bb7b30a803193ecb","modified":1486815625225},{"_id":"themes/solar-theme-hexo/source/images/favicon-192x192.png","hash":"4b07282018db1888c7bc707a3e1b576c5684eabb","modified":1486815625225},{"_id":"themes/solar-theme-hexo/source/images/favicon.ico","hash":"54972e5dafeb73579b30c17232553c688d702448","modified":1486815625225},{"_id":"themes/solar-theme-hexo/source/images/logo.png","hash":"2084e1813f7310d9543a37608f4e6690d600b9c3","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/images/mars.png","hash":"4b33fb4ef0359cb401d4ed6d862caf55fb560802","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/images/mercury.png","hash":"e5ecda952ae568b8890026c7ab02a175652535a2","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/images/shadow.png","hash":"ec5cfff7997edd1b5e01516604daca7c7a4f3788","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/images/venus.png","hash":"d45968836d952cd017439323135e6fad155c45ae","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/js/main.js","hash":"481f730da10e5c9e1d59dfa9f1c0714ae709a0b8","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/css/_partial/archive.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/images/jupiter.png","hash":"4b7bc03b4cdf2fcde13e982aef340a1d385a3e7d","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/images/sun.png","hash":"62be3d54471271a1e8adb348a3f021ef001b4668","modified":1486815625229},{"_id":"themes/solar-theme-hexo/layout/_partial/post/actions_desktop.ejs","hash":"2319dea76f205c27dd59c994921f66350df8027a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/actions_mobile.ejs","hash":"e7638a83e5aaa4bf5b24440ca76fec8eb563bed7","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/date.ejs","hash":"12a4a7ba6334e3e5c03d9a9601d7779a27c2e082","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/gallery.ejs","hash":"9aecd8908e8a684f33dc20c02497c0f1774137c7","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/share.ejs","hash":"25a3406f97e976ec13239f0d3f32f9e512511f50","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/tag.ejs","hash":"bfab03ef986d35ccad583f2d2b575db4a8d2789e","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/_partial/post/title.ejs","hash":"a060f1c6e3718494a6b1d0e1981ea0bf4e549828","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/banner.ejs","hash":"f4359350f4b79b14a9d669055911d50d7a3dfd89","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/comments.ejs","hash":"853a4500da515ef3facc51a055886eaf8efd080d","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/footer.ejs","hash":"7f6b3f126a58e6734b658ab57bc6b41822bc9342","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/head.ejs","hash":"5b6f73a4fb96edde3005f90063509bf851714f72","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/header.ejs","hash":"889fe54bbfd1fb3357e8c0614d57a437a72f782a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/scripts.ejs","hash":"264e49c76744a2ce5be4cd69910cab8e0f517eda","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/agate.styl","hash":"601eb70448a16b918df132f6fc41e891ae053653","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/androidstudio.styl","hash":"65d09f1b0e81c6a182f549fd3de51e59823c97ae","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/arta.styl","hash":"1a5accc115f41d1b669ed708ac6a29abac876599","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-cave-dark.styl","hash":"bc647b2c1d971d7cc947aa1ed66e9fd115261921","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-dune-dark.styl","hash":"df50a85a4b14c7ca6e825d665594b91229d0e460","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-estuary-dark.styl","hash":"d84382bc8298f96730757391d3e761b7e640f406","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-forest-dark.styl","hash":"57c154c6045a038dc7df0a25927853e10bf48c4a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-heath-dark.styl","hash":"b0cf13b2233e7bc38342032d2d7296591a4c2bcf","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-lakeside-dark.styl","hash":"bb0a8c4ad0dd8e3e7de7122ddf268fc42aa94acb","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-plateau-dark.styl","hash":"09c64f1a7052aec9070c36c0431df25216afaea1","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-savanna-dark.styl","hash":"a16c919a1ccf2f845488078fb341381bec46b1f3","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-seaside-dark.styl","hash":"ce233a101daea7124cbfcd34add43ccfe2e1e1c7","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/atelier-sulphurpool-dark.styl","hash":"414b0cfc142f70afe359c16450b651e28bf7325a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/codepen-embed.styl","hash":"f4dcc84d8e39f9831a5efe80e51923fc3054feb0","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/dark.styl","hash":"71ce56d311cc2f3a605f6e2c495ccd7236878404","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/darkula.styl","hash":"ad0d5728d21645039c9f199e7a56814170ed3bab","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_highlight/far.styl","hash":"d9928010ffe71e80b97a5afcba1a4975efdd7372","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/hopscotch.styl","hash":"b374c6550b89b4751aedc8fbc3cf98d95bd70ead","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/hybrid.styl","hash":"ea8d7ddc258b073308746385f5cb85aabb8bfb83","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/ir-black.styl","hash":"693078bbd72a2091ed30f506cc55949600b717af","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/kimbie.styl","hash":"45dbb168f22d739d0109745d2decd66b5f94e786","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/lightcode.styl","hash":"6c61c481836f6cbc3a57be10fa3af21bee83eb09","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/monokai-sublime.styl","hash":"25aa2fc1dbe38593e7c7ebe525438a39574d9935","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/monokai.styl","hash":"5a4fe9f957fd7a368c21b62a818403db4270452f","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/obsidian.styl","hash":"55572bbcfee1de6c31ac54681bb00336f5ae826d","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/paraiso.styl","hash":"f1537bd868579fa018ecdbfd2eb922dcf3ba2cac","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/pojoaque.styl","hash":"77dae9dc41945359d17fe84dbd317f1b40b2ee33","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/railscasts.styl","hash":"acd620f8bb7ff0e3fe5f9a22b4433ceef93a05e6","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/rainbow.styl","hash":"ce73b858fc0aba0e57ef9fb136c083082746bc1d","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/solarized-dark.styl","hash":"702b9299a48c90124e3ac1d45f1591042f2beccc","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/sunburst.styl","hash":"a0b5b5129547a23865d400cfa562ea0ac1ee3958","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/tomorrow-night-blue.styl","hash":"8b3087d4422be6eb800935a22eb11e035341c4ba","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/tomorrow-night-bright.styl","hash":"0ac6af6ecb446b5b60d6226748e4a6532db34f57","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/tomorrow-night-eighties.styl","hash":"fa57b3bb7857a160fc856dbe319b31e30cc5d771","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/tomorrow-night.styl","hash":"19b3080d4b066b40d50d7e7f297472482b5801fd","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_highlight/zenburn.styl","hash":"fc5ec840435dad80964d04519d3f882ddc03746a","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/article.styl","hash":"7bd68ecc8ebeb70daa74bfc179f984032eef18ae","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/comments.styl","hash":"11fb41241a13971d23fc3f7e6d60315c7f248396","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/footer.styl","hash":"b7570de60eaf9aa6b0192bf9c71b9172ff11bfbc","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/header.styl","hash":"1545e8303fe36bbabb4da4a967c424de07d93dec","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/index.styl","hash":"cf43702450ea1e5617541501886982a394cff8ec","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/solar.styl","hash":"3af61c9b8033a4b804f0e1ba52525b55d6e16126","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/lib/justified-gallery/jquery.justifiedGallery.min.js","hash":"b2683e7a872bc109b1756a65188a37cef7d0bd5c","modified":1486815625245},{"_id":"themes/solar-theme-hexo/source/lib/justified-gallery/justifiedGallery.min.css","hash":"13fbcba5e97aa88b748d94d3efc4718475279907","modified":1486815625245},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/styles.css","hash":"eb88d0b9f1bbef99070e9627e2c96d892036bf7e","modified":1486815625297},{"_id":"themes/solar-theme-hexo/source/images/Solar.png","hash":"463dbb952527b3d35c6203575eec552f62fd9d8e","modified":1486815625225},{"_id":"themes/solar-theme-hexo/source/lib/jquery/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1486815625245},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/actions_desktop.ejs","hash":"2319dea76f205c27dd59c994921f66350df8027a","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/actions_mobile.ejs","hash":"e7638a83e5aaa4bf5b24440ca76fec8eb563bed7","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/date.ejs","hash":"12a4a7ba6334e3e5c03d9a9601d7779a27c2e082","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/gallery.ejs","hash":"9aecd8908e8a684f33dc20c02497c0f1774137c7","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/share.ejs","hash":"25a3406f97e976ec13239f0d3f32f9e512511f50","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/tag.ejs","hash":"bfab03ef986d35ccad583f2d2b575db4a8d2789e","modified":1486815625217},{"_id":"themes/solar-theme-hexo/layout/layout/_partial/post/title.ejs","hash":"a060f1c6e3718494a6b1d0e1981ea0bf4e549828","modified":1486815625217},{"_id":"themes/solar-theme-hexo/source/css/_partial/post/actions_desktop.styl","hash":"ee37b3ef5bc3efa0e5795ca72de29ee1a316434f","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/css/_partial/post/actions_mobile.styl","hash":"d308fd8efe15cf089ec170873337cbabefae42ac","modified":1486815625221},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/css/font-awesome.css","hash":"4eda182cbcc046dbf449aef97c02c230cf80a494","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/css/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1486815625229},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1486815625233},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1486815625233},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1486815625241},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1486815625245},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1486815625241},{"_id":"themes/solar-theme-hexo/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1486815625237},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Italic.ttf","hash":"96c97a0a098ca40802f948ae56fa37aa6683d034","modified":1486815625269},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Italic.ttf","hash":"68700db02debd4b922304134da83b829cbfddfc9","modified":1486815625293},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Italic.ttf","hash":"7f7cdbdcc26279c04046632e22d872f111bc9399","modified":1486815625297},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Bold.ttf","hash":"bfa1ed9a263ed78462f06d322de13bd5bd0906b2","modified":1486815625253},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-BoldItalic.ttf","hash":"a9a431fc7a6c3a67c98021d4035c12a07a4f1070","modified":1486815625261},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGL-Regular.ttf","hash":"2b912dd13f052f645ee19951604610bb350d50af","modified":1486815625277},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Bold.ttf","hash":"a8a8df3393bccc365335fc5eb0a62a6b7ccd32b9","modified":1486815625277},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-Regular.ttf","hash":"5e220152adefe905b2197f873d7cee99eca50e91","modified":1486815625293},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Bold.ttf","hash":"df202ce09cbdc70bc16b81983a13ef0f94e46f10","modified":1486815625293},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-BoldItalic.ttf","hash":"d895a1bd25e36c58b7f463ebe14de09f186d5ab4","modified":1486815625293},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGS-Regular.ttf","hash":"56fa0e33a390b704afc56af93a31576ccdbbdd9e","modified":1486815625297},{"_id":"themes/solar-theme-hexo/source/lib/meslo-LG/fonts/MesloLGM-BoldItalic.ttf","hash":"65ddb11e75ee93909e845ab912a36717c48f1c94","modified":1486815625285},{"_id":"public/2017/02/17/一套临时使用的图片压缩缓存上传方案/index.html","hash":"222dacf24222f8d3a86f812449929e8ca35d6c01","modified":1487507062911},{"_id":"public/2017/02/17/自定义View/index.html","hash":"e340e7aa791bfb7245a0f27c8b4f35ed06d1a6d7","modified":1487507062911},{"_id":"public/2017/01/16/如何在moudle中引入aar/index.html","hash":"73dd93b8fe4f14fa6368bd8050d07c27701577e3","modified":1487507062912},{"_id":"public/2016/10/18/四大组件之BroadcastReceiver/index.html","hash":"42617433a87ab353bdd85cac076ec71f034a4b24","modified":1487507062913},{"_id":"public/2016/10/16/四大组件之Service/index.html","hash":"e30f01947bc7f59c332271d12c512e0a00aae1f6","modified":1487507062913},{"_id":"public/2016/06/17/Fragment的管理/index.html","hash":"186d5f446b5c46bed95e76a6eb5abd92e69b1198","modified":1487507062913},{"_id":"public/2016/06/10/Android动态修改某个控件大小/index.html","hash":"2c6c2664f7bc9c6289188f63c4f28e8b5f535ced","modified":1487507062913},{"_id":"public/2016/06/10/Android设置全屏的几种方式/index.html","hash":"7064596b0a16bbfb568288959cd5a3f265712c79","modified":1487507062914},{"_id":"public/2016/05/22/Android事件分发机制的简单解读/index.html","hash":"35abe5948f2f35030667ad591a09c75d7d32f17e","modified":1487507062914},{"_id":"public/2016/05/12/Android中Handler的简单终结/index.html","hash":"60f07e3411dd4b2b1e454cf4d4b94c89ba4bdf97","modified":1487507062914},{"_id":"public/2016/03/21/EditText相关/index.html","hash":"622866689206859b79345f9e0c18f77ba2c4a40b","modified":1487507062914},{"_id":"public/2016/02/16/Markdown的初级使用/index.html","hash":"8453ee96a5366de53c3374868fc6b39e4f51b7e3","modified":1487507062915},{"_id":"public/2016/01/05/gitbub-blog/index.html","hash":"e629ae4995e309b8fa863d28cccc00e5ebd557e6","modified":1487507062915},{"_id":"public/archives/index.html","hash":"111edb161430664af2680ec39a7b38e6af78e26a","modified":1487507062915},{"_id":"public/archives/page/2/index.html","hash":"c8eb63e729a4a7f9a81e5c23f650336aab43728a","modified":1487507062915},{"_id":"public/archives/2016/index.html","hash":"8665ecc481bf10ff4f57aaf8754c958ff5016aaf","modified":1487507062915},{"_id":"public/archives/2016/page/2/index.html","hash":"5e3ee8f0a6c31603f4e5a6530dad81df1e034ce7","modified":1487507062915},{"_id":"public/archives/2016/01/index.html","hash":"5024b4b23a4d4911cf86e41eb7c2a06c22de8f26","modified":1487507062915},{"_id":"public/archives/2016/02/index.html","hash":"ab4a701ba150525f23caad7e946cdea924d20d11","modified":1487507062916},{"_id":"public/archives/2016/03/index.html","hash":"022a0d00cb28409399f86d05178ca688b0464f0c","modified":1487507062916},{"_id":"public/archives/2016/04/index.html","hash":"e6ab687e2efb26e851821bfaf12bc22ee2d4f3b4","modified":1487507062916},{"_id":"public/archives/2016/05/index.html","hash":"00b6bd3c047312b068dcc38f79fb6d08df8061ee","modified":1487507062916},{"_id":"public/archives/2016/06/index.html","hash":"adc06518b8c9ecb9790e52b416c3405805943623","modified":1487507062916},{"_id":"public/archives/2016/07/index.html","hash":"1fe7ceb620277714b82be4066f63a5e85f7011ef","modified":1487507062916},{"_id":"public/archives/2016/10/index.html","hash":"9c71190ff333cbeea2efc923b9add10d40c3eefd","modified":1487507062916},{"_id":"public/archives/2016/12/index.html","hash":"e2225336064f74be810e316638f9632566a2bf68","modified":1487507062916},{"_id":"public/archives/2017/index.html","hash":"553895c1d8c3886aad0e1be0d1d5ca1123987269","modified":1487507062917},{"_id":"public/archives/2017/01/index.html","hash":"d8b0e0954392ce198b293de5e8212c66bb05f34a","modified":1487507062917},{"_id":"public/archives/2017/02/index.html","hash":"2806d376826c8951d37b79bfed303bc5b9cfefd9","modified":1487507062917},{"_id":"public/index.html","hash":"d0b18dfebb79f67b76aa8b60d80a1f6727dc9ea5","modified":1487507062917},{"_id":"public/page/2/index.html","hash":"c7a0e01f21c500416c6024735162655c45939f68","modified":1487507062917},{"_id":"public/tags/Android/index.html","hash":"d1acff6296a0b978d9406af50bfeef83d47f4a27","modified":1487507062917},{"_id":"public/tags/Android/page/2/index.html","hash":"a0e737115572d9fa26f9b02449f14721c30fb345","modified":1487507062917},{"_id":"public/tags/Java/index.html","hash":"b52db59694ed4d9e6af46320eef2f73bc1d8e9fe","modified":1487507062918},{"_id":"public/tags/架构/index.html","hash":"b1d349cceec5288396c82dc3ef0acc38c993db55","modified":1487507062918},{"_id":"public/tags/tools/index.html","hash":"c305d75fcc912f859de6fe58dc441c8c1a98608d","modified":1487507062918},{"_id":"public/tags/github/index.html","hash":"7c0a2efe544ff480a23227dd382557bcc4d97edb","modified":1487507062918},{"_id":"public/tags/四大组件之Activity/index.html","hash":"669b4ae2b02fdec705fc6cc4839a988c88d89d8e","modified":1487507062918},{"_id":"public/tags/Android-Studio/index.html","hash":"ca0e1de46401b13c433eaf791b4ff22aa817c612","modified":1487507062918},{"_id":"public/tags/Realm/index.html","hash":"775f879b401e4aea86553c3c2984abbbf6344805","modified":1487507062918},{"_id":"public/2017/02/16/记一次使用Realm的体会/index.html","hash":"a61d8f090bd17028bffa36749cb1659ef411d131","modified":1487507062919},{"_id":"public/2016/12/17/MVP与MVVM/index.html","hash":"dc8f0026d48480ecb8e714b6135370ad24e0e146","modified":1487507062919},{"_id":"public/2016/10/15/四大组件之Activity/index.html","hash":"1e8d70183fa366452198a9d2c0e1de2037174d21","modified":1487507062919},{"_id":"public/2016/07/13/Android-SQLite的使用/index.html","hash":"35b365b27d14ae93112b5ad5e0207aefde849527","modified":1487507062919},{"_id":"public/2016/06/17/Java注解反射/index.html","hash":"6db08e820f35edaf4ec6c2c379c7b122d960c6fb","modified":1487507062919},{"_id":"public/2016/04/11/WiFi-Portal检测/index.html","hash":"2caf82655a239decb9cac587ab762a659a832552","modified":1487507062919},{"_id":"public/2016/02/10/WebView-获取网页源码/index.html","hash":"e9b2ac35bb4438ce58993ac543996dceda624859","modified":1487507062919},{"_id":"public/images/apple-touch-icon.png","hash":"bb91acbedda435287809e41148b1b255cdf957dc","modified":1487507062948},{"_id":"public/images/earth.png","hash":"2cdcc68e36457410c633a578bb7b30a803193ecb","modified":1487507062948},{"_id":"public/images/favicon-192x192.png","hash":"4b07282018db1888c7bc707a3e1b576c5684eabb","modified":1487507062948},{"_id":"public/images/favicon.ico","hash":"54972e5dafeb73579b30c17232553c688d702448","modified":1487507062948},{"_id":"public/images/logo.png","hash":"2084e1813f7310d9543a37608f4e6690d600b9c3","modified":1487507062948},{"_id":"public/images/mars.png","hash":"4b33fb4ef0359cb401d4ed6d862caf55fb560802","modified":1487507062948},{"_id":"public/images/mercury.png","hash":"e5ecda952ae568b8890026c7ab02a175652535a2","modified":1487507062948},{"_id":"public/images/shadow.png","hash":"ec5cfff7997edd1b5e01516604daca7c7a4f3788","modified":1487507062949},{"_id":"public/images/venus.png","hash":"d45968836d952cd017439323135e6fad155c45ae","modified":1487507062949},{"_id":"public/images/jupiter.png","hash":"4b7bc03b4cdf2fcde13e982aef340a1d385a3e7d","modified":1487507064236},{"_id":"public/images/sun.png","hash":"62be3d54471271a1e8adb348a3f021ef001b4668","modified":1487507064238},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1487507064241},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1487507064241},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1487507064241},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1487507064241},{"_id":"public/js/main.js","hash":"481f730da10e5c9e1d59dfa9f1c0714ae709a0b8","modified":1487507064258},{"_id":"public/lib/justified-gallery/justifiedGallery.min.css","hash":"13fbcba5e97aa88b748d94d3efc4718475279907","modified":1487507064259},{"_id":"public/lib/meslo-LG/styles.css","hash":"eb88d0b9f1bbef99070e9627e2c96d892036bf7e","modified":1487507064259},{"_id":"public/css/style.css","hash":"93e0d149c3dcee4650ba74445e954f46bb91d080","modified":1487507064259},{"_id":"public/lib/justified-gallery/jquery.justifiedGallery.min.js","hash":"b2683e7a872bc109b1756a65188a37cef7d0bd5c","modified":1487507064259},{"_id":"public/lib/jquery/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1487507064259},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"4eda182cbcc046dbf449aef97c02c230cf80a494","modified":1487507064259},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1487507064259},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1487507064260},{"_id":"public/images/Solar.png","hash":"463dbb952527b3d35c6203575eec552f62fd9d8e","modified":1487507064275},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1487507064293},{"_id":"public/lib/meslo-LG/fonts/MesloLGL-Italic.ttf","hash":"96c97a0a098ca40802f948ae56fa37aa6683d034","modified":1487507064336},{"_id":"public/lib/meslo-LG/fonts/MesloLGM-Italic.ttf","hash":"68700db02debd4b922304134da83b829cbfddfc9","modified":1487507064336},{"_id":"public/lib/meslo-LG/fonts/MesloLGS-Italic.ttf","hash":"7f7cdbdcc26279c04046632e22d872f111bc9399","modified":1487507064337},{"_id":"public/lib/meslo-LG/fonts/MesloLGL-Bold.ttf","hash":"bfa1ed9a263ed78462f06d322de13bd5bd0906b2","modified":1487507064343},{"_id":"public/lib/meslo-LG/fonts/MesloLGL-BoldItalic.ttf","hash":"a9a431fc7a6c3a67c98021d4035c12a07a4f1070","modified":1487507064343},{"_id":"public/lib/meslo-LG/fonts/MesloLGL-Regular.ttf","hash":"2b912dd13f052f645ee19951604610bb350d50af","modified":1487507064344},{"_id":"public/lib/meslo-LG/fonts/MesloLGM-Bold.ttf","hash":"a8a8df3393bccc365335fc5eb0a62a6b7ccd32b9","modified":1487507064346},{"_id":"public/lib/meslo-LG/fonts/MesloLGM-Regular.ttf","hash":"5e220152adefe905b2197f873d7cee99eca50e91","modified":1487507064346},{"_id":"public/lib/meslo-LG/fonts/MesloLGS-Bold.ttf","hash":"df202ce09cbdc70bc16b81983a13ef0f94e46f10","modified":1487507064347},{"_id":"public/lib/meslo-LG/fonts/MesloLGS-BoldItalic.ttf","hash":"d895a1bd25e36c58b7f463ebe14de09f186d5ab4","modified":1487507064348},{"_id":"public/lib/meslo-LG/fonts/MesloLGS-Regular.ttf","hash":"56fa0e33a390b704afc56af93a31576ccdbbdd9e","modified":1487507064348},{"_id":"public/lib/meslo-LG/fonts/MesloLGM-BoldItalic.ttf","hash":"65ddb11e75ee93909e845ab912a36717c48f1c94","modified":1487507064349}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Android SQLite的使用","date":"2016-07-13T12:34:42.000Z","_content":"Android自带的数据库SQLite，是一个轻量级便捷的数据库。\n\n1.创建\nAndroid SDK有一个抽象类SQLiteOpenHelper用于创建和升级数据库，\n所以继承SQLiteOpenHelper并实现其中的onCreate()和onUpgrade()即可创建和升级数据库。\n\n示例：\n```\npublic class PskDBHelper extends SQLiteOpenHelper {\n    /**\n     * 构造方法，通常用这个就可以了\n     *\n     * @param context\n     * @param name    数据库名称 如： psk.db\n     * @param factory 数据库游标工厂 通常传入 null\n     * @param version 版本号 如：1\n     */\n    public PskDBHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\n        super(context, name, factory, version);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        //创建表SQL语句\n        //integer 表示整型，real 表示浮点型，text 表示文本类型，blob 表示二进制类型。\n        // 另外，primary key表示将id列设为主键，并用autoincrement关键字表示id列是自增长的。\n        String pskTable = \"create table psktable(_id integer primary key autoincrement,ssid text,bssid text,psk text)\";\n        db.execSQL(pskTable);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n}\n```\n\n2.使用\n通过调用 pskDBHelper.getReadableDatabase() 和 pskDBHelper.getWritableDatabase()来获取 SQLiteDatabase 对象。\n其中如果getReadableDatabase()的数据库不存在则自动创建，存在则返回相应的对象，\n如果调用getWritableDatabase()的数据库不存在则会报错。\n\n3、增删改查\n这里只简单示例用SQL语句操作的方法。\n\n(1)插入数据\n```\npublic void insert(SQLiteDatabase db) {\n    //插入数据SQL语句\n    String insertSQL = \"insert into psktable(ssid,bssid,psk) values('wong','20:6a:8a:68:81:ce','12345678')\";\n    //执行SQL语句\n    db.execSQL(insertSQL);\n}\n```\n\n(2)删除数据\n```\npublic void del(SQLiteDatabase db) {\n    //删除SQL语句\n    String sql = \"delete from psktable where _id = 1\";\n    //执行SQL语句\n    db.execSQL(sql);\n}\n```\n(3)更新数据\n```\npublic void update(SQLiteDatabase db) {\n    //修改SQL语句\n    String sql = \"update psktable set ssid = 'wong' where _id = 1\";\n    //执行SQL\n    db.execSQL(sql);\n}\n```\n//在Android中查询数据是通过Cursor类来实现的，\n// 当我们使用SQLiteDatabase.query()方法时，\n// 会得到一个Cursor对象，Cursor指向的就是每一条数据\n(4)查询数据\n```\npublic void search(SQLiteDatabase db) {\n    //查询获得游标\n    Cursor cursor = db.query(\"psktable\", null, null, null, null, null, null);\n    //判断游标是否为空\n    if (cursor.moveToFirst()) {\n        //遍历游标\n        for (int i = 0; i < cursor.getCount(); i++) {\n            cursor.move(i);\n            //获得ID\n            int id = cursor.getInt(0);\n            //获得ssid\n            String ssid = cursor.getString(1);\n            //获得bssid\n            String bssid = cursor.getString(2);\n            //获取psk\n            String psk = cursor.getString(3);\n        }\n    }\n}\n```\n","source":"_posts/Android-SQLite的使用.md","raw":"---\ntitle: Android SQLite的使用\ndate: 2016-07-13 20:34:42\ntags: Android\n---\nAndroid自带的数据库SQLite，是一个轻量级便捷的数据库。\n\n1.创建\nAndroid SDK有一个抽象类SQLiteOpenHelper用于创建和升级数据库，\n所以继承SQLiteOpenHelper并实现其中的onCreate()和onUpgrade()即可创建和升级数据库。\n\n示例：\n```\npublic class PskDBHelper extends SQLiteOpenHelper {\n    /**\n     * 构造方法，通常用这个就可以了\n     *\n     * @param context\n     * @param name    数据库名称 如： psk.db\n     * @param factory 数据库游标工厂 通常传入 null\n     * @param version 版本号 如：1\n     */\n    public PskDBHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\n        super(context, name, factory, version);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        //创建表SQL语句\n        //integer 表示整型，real 表示浮点型，text 表示文本类型，blob 表示二进制类型。\n        // 另外，primary key表示将id列设为主键，并用autoincrement关键字表示id列是自增长的。\n        String pskTable = \"create table psktable(_id integer primary key autoincrement,ssid text,bssid text,psk text)\";\n        db.execSQL(pskTable);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n}\n```\n\n2.使用\n通过调用 pskDBHelper.getReadableDatabase() 和 pskDBHelper.getWritableDatabase()来获取 SQLiteDatabase 对象。\n其中如果getReadableDatabase()的数据库不存在则自动创建，存在则返回相应的对象，\n如果调用getWritableDatabase()的数据库不存在则会报错。\n\n3、增删改查\n这里只简单示例用SQL语句操作的方法。\n\n(1)插入数据\n```\npublic void insert(SQLiteDatabase db) {\n    //插入数据SQL语句\n    String insertSQL = \"insert into psktable(ssid,bssid,psk) values('wong','20:6a:8a:68:81:ce','12345678')\";\n    //执行SQL语句\n    db.execSQL(insertSQL);\n}\n```\n\n(2)删除数据\n```\npublic void del(SQLiteDatabase db) {\n    //删除SQL语句\n    String sql = \"delete from psktable where _id = 1\";\n    //执行SQL语句\n    db.execSQL(sql);\n}\n```\n(3)更新数据\n```\npublic void update(SQLiteDatabase db) {\n    //修改SQL语句\n    String sql = \"update psktable set ssid = 'wong' where _id = 1\";\n    //执行SQL\n    db.execSQL(sql);\n}\n```\n//在Android中查询数据是通过Cursor类来实现的，\n// 当我们使用SQLiteDatabase.query()方法时，\n// 会得到一个Cursor对象，Cursor指向的就是每一条数据\n(4)查询数据\n```\npublic void search(SQLiteDatabase db) {\n    //查询获得游标\n    Cursor cursor = db.query(\"psktable\", null, null, null, null, null, null);\n    //判断游标是否为空\n    if (cursor.moveToFirst()) {\n        //遍历游标\n        for (int i = 0; i < cursor.getCount(); i++) {\n            cursor.move(i);\n            //获得ID\n            int id = cursor.getInt(0);\n            //获得ssid\n            String ssid = cursor.getString(1);\n            //获得bssid\n            String bssid = cursor.getString(2);\n            //获取psk\n            String psk = cursor.getString(3);\n        }\n    }\n}\n```\n","slug":"Android-SQLite的使用","published":1,"updated":"2017-02-17T12:16:36.828Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapdt0000jc2z1p9oe6tg","content":"<p>Android自带的数据库SQLite，是一个轻量级便捷的数据库。</p>\n<p>1.创建<br>Android SDK有一个抽象类SQLiteOpenHelper用于创建和升级数据库，<br>所以继承SQLiteOpenHelper并实现其中的onCreate()和onUpgrade()即可创建和升级数据库。</p>\n<p>示例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class PskDBHelper extends SQLiteOpenHelper &#123;</div><div class=\"line\">    /**</div><div class=\"line\">     * 构造方法，通常用这个就可以了</div><div class=\"line\">     *</div><div class=\"line\">     * @param context</div><div class=\"line\">     * @param name    数据库名称 如： psk.db</div><div class=\"line\">     * @param factory 数据库游标工厂 通常传入 null</div><div class=\"line\">     * @param version 版本号 如：1</div><div class=\"line\">     */</div><div class=\"line\">    public PskDBHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) &#123;</div><div class=\"line\">        super(context, name, factory, version);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onCreate(SQLiteDatabase db) &#123;</div><div class=\"line\">        //创建表SQL语句</div><div class=\"line\">        //integer 表示整型，real 表示浮点型，text 表示文本类型，blob 表示二进制类型。</div><div class=\"line\">        // 另外，primary key表示将id列设为主键，并用autoincrement关键字表示id列是自增长的。</div><div class=\"line\">        String pskTable = &quot;create table psktable(_id integer primary key autoincrement,ssid text,bssid text,psk text)&quot;;</div><div class=\"line\">        db.execSQL(pskTable);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) &#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>2.使用<br>通过调用 pskDBHelper.getReadableDatabase() 和 pskDBHelper.getWritableDatabase()来获取 SQLiteDatabase 对象。<br>其中如果getReadableDatabase()的数据库不存在则自动创建，存在则返回相应的对象，<br>如果调用getWritableDatabase()的数据库不存在则会报错。</p>\n<p>3、增删改查<br>这里只简单示例用SQL语句操作的方法。</p>\n<p>(1)插入数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void insert(SQLiteDatabase db) &#123;</div><div class=\"line\">    //插入数据SQL语句</div><div class=\"line\">    String insertSQL = &quot;insert into psktable(ssid,bssid,psk) values(&apos;wong&apos;,&apos;20:6a:8a:68:81:ce&apos;,&apos;12345678&apos;)&quot;;</div><div class=\"line\">    //执行SQL语句</div><div class=\"line\">    db.execSQL(insertSQL);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>(2)删除数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void del(SQLiteDatabase db) &#123;</div><div class=\"line\">    //删除SQL语句</div><div class=\"line\">    String sql = &quot;delete from psktable where _id = 1&quot;;</div><div class=\"line\">    //执行SQL语句</div><div class=\"line\">    db.execSQL(sql);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>(3)更新数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void update(SQLiteDatabase db) &#123;</div><div class=\"line\">    //修改SQL语句</div><div class=\"line\">    String sql = &quot;update psktable set ssid = &apos;wong&apos; where _id = 1&quot;;</div><div class=\"line\">    //执行SQL</div><div class=\"line\">    db.execSQL(sql);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>//在Android中查询数据是通过Cursor类来实现的，<br>// 当我们使用SQLiteDatabase.query()方法时，<br>// 会得到一个Cursor对象，Cursor指向的就是每一条数据<br>(4)查询数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void search(SQLiteDatabase db) &#123;</div><div class=\"line\">    //查询获得游标</div><div class=\"line\">    Cursor cursor = db.query(&quot;psktable&quot;, null, null, null, null, null, null);</div><div class=\"line\">    //判断游标是否为空</div><div class=\"line\">    if (cursor.moveToFirst()) &#123;</div><div class=\"line\">        //遍历游标</div><div class=\"line\">        for (int i = 0; i &lt; cursor.getCount(); i++) &#123;</div><div class=\"line\">            cursor.move(i);</div><div class=\"line\">            //获得ID</div><div class=\"line\">            int id = cursor.getInt(0);</div><div class=\"line\">            //获得ssid</div><div class=\"line\">            String ssid = cursor.getString(1);</div><div class=\"line\">            //获得bssid</div><div class=\"line\">            String bssid = cursor.getString(2);</div><div class=\"line\">            //获取psk</div><div class=\"line\">            String psk = cursor.getString(3);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","excerpt":"","more":"<p>Android自带的数据库SQLite，是一个轻量级便捷的数据库。</p>\n<p>1.创建<br>Android SDK有一个抽象类SQLiteOpenHelper用于创建和升级数据库，<br>所以继承SQLiteOpenHelper并实现其中的onCreate()和onUpgrade()即可创建和升级数据库。</p>\n<p>示例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class PskDBHelper extends SQLiteOpenHelper &#123;</div><div class=\"line\">    /**</div><div class=\"line\">     * 构造方法，通常用这个就可以了</div><div class=\"line\">     *</div><div class=\"line\">     * @param context</div><div class=\"line\">     * @param name    数据库名称 如： psk.db</div><div class=\"line\">     * @param factory 数据库游标工厂 通常传入 null</div><div class=\"line\">     * @param version 版本号 如：1</div><div class=\"line\">     */</div><div class=\"line\">    public PskDBHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) &#123;</div><div class=\"line\">        super(context, name, factory, version);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onCreate(SQLiteDatabase db) &#123;</div><div class=\"line\">        //创建表SQL语句</div><div class=\"line\">        //integer 表示整型，real 表示浮点型，text 表示文本类型，blob 表示二进制类型。</div><div class=\"line\">        // 另外，primary key表示将id列设为主键，并用autoincrement关键字表示id列是自增长的。</div><div class=\"line\">        String pskTable = &quot;create table psktable(_id integer primary key autoincrement,ssid text,bssid text,psk text)&quot;;</div><div class=\"line\">        db.execSQL(pskTable);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) &#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>2.使用<br>通过调用 pskDBHelper.getReadableDatabase() 和 pskDBHelper.getWritableDatabase()来获取 SQLiteDatabase 对象。<br>其中如果getReadableDatabase()的数据库不存在则自动创建，存在则返回相应的对象，<br>如果调用getWritableDatabase()的数据库不存在则会报错。</p>\n<p>3、增删改查<br>这里只简单示例用SQL语句操作的方法。</p>\n<p>(1)插入数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void insert(SQLiteDatabase db) &#123;</div><div class=\"line\">    //插入数据SQL语句</div><div class=\"line\">    String insertSQL = &quot;insert into psktable(ssid,bssid,psk) values(&apos;wong&apos;,&apos;20:6a:8a:68:81:ce&apos;,&apos;12345678&apos;)&quot;;</div><div class=\"line\">    //执行SQL语句</div><div class=\"line\">    db.execSQL(insertSQL);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>(2)删除数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void del(SQLiteDatabase db) &#123;</div><div class=\"line\">    //删除SQL语句</div><div class=\"line\">    String sql = &quot;delete from psktable where _id = 1&quot;;</div><div class=\"line\">    //执行SQL语句</div><div class=\"line\">    db.execSQL(sql);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>(3)更新数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void update(SQLiteDatabase db) &#123;</div><div class=\"line\">    //修改SQL语句</div><div class=\"line\">    String sql = &quot;update psktable set ssid = &apos;wong&apos; where _id = 1&quot;;</div><div class=\"line\">    //执行SQL</div><div class=\"line\">    db.execSQL(sql);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>//在Android中查询数据是通过Cursor类来实现的，<br>// 当我们使用SQLiteDatabase.query()方法时，<br>// 会得到一个Cursor对象，Cursor指向的就是每一条数据<br>(4)查询数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">public void search(SQLiteDatabase db) &#123;</div><div class=\"line\">    //查询获得游标</div><div class=\"line\">    Cursor cursor = db.query(&quot;psktable&quot;, null, null, null, null, null, null);</div><div class=\"line\">    //判断游标是否为空</div><div class=\"line\">    if (cursor.moveToFirst()) &#123;</div><div class=\"line\">        //遍历游标</div><div class=\"line\">        for (int i = 0; i &lt; cursor.getCount(); i++) &#123;</div><div class=\"line\">            cursor.move(i);</div><div class=\"line\">            //获得ID</div><div class=\"line\">            int id = cursor.getInt(0);</div><div class=\"line\">            //获得ssid</div><div class=\"line\">            String ssid = cursor.getString(1);</div><div class=\"line\">            //获得bssid</div><div class=\"line\">            String bssid = cursor.getString(2);</div><div class=\"line\">            //获取psk</div><div class=\"line\">            String psk = cursor.getString(3);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"title":"Android中Handler的简单终结","date":"2016-05-12T13:37:59.000Z","_content":"1.Handler何用？\n在实际开发中Handler是为了解决在子线程更新UI的问题。\n\n2.Handler，Looper，MessageQueue的创建？\n一个Handler通常和一个Looper和一个MessageQueue绑定在一起。\n在线程中创建一个Handler时通常会同时创建一个Looper（通过Looper.prepare()为当前线程创建一个Looper,\n并使用Looper.loop()来开启消息的读取）及MessageQueue（创建Looper的同时创建），\n而平时我们在主线程中创建Handler却可以省略该步骤主要是由于主线程在开启时就已自动Looper，\n可以通过getMainLooper()来获取主线程的Looper。\n\n3.Looper,Handler,MessageQueue的引用关系?\nLooper：好比一个泵，循环不断的在MessageQueue中查询消息\nMessageQueue：消息池，用于存放消息\n\n一个线程对应只有一个Looper和一个MessageQueue，但可以有多个Handler。\n\n子线程创建一条MSG通过Handler发送消息到主线程的MessageQueue中，\n主线程对应的Looper循环不断的在MessageQueue中查询MSG，\n查询到则主线程通过Hanler处理消息。\n\n4.Handler导致内存泄露问题?\n一般我们写Handler:\n```\nHandler mHandler = new Handler() {\n@Override\npublic void handleMessage(Message msg) {\n  }\n}\n```\n当使用内部类（包括匿名类）来创建Handler的时候，Handler对象会隐式地持有一个外部类对象（通常是一个Activity）的引用,而常常在Activity退出后，消息队列还有未被处理完的消息，此时activity依然被handler引用，导致内存无法回收而内存泄露。\n\n解决方法：\n在Handler中增加一个对Activity的弱引用（WeakReference）：\n```\nstatic class MyHandler extends Handler {\nWeakReference mActivityReference;\n\nMyHandler(Activity activity) {\nmActivityReference= new WeakReference(activity);\n}\n\n@Override\npublic void handleMessage(Message msg) {\nfinal Activity activity = mActivityReference.get();\nif (activity != null) {\n    }\n  }\n}\n```\n对于上面的代码，用户在关闭Activity之后，就算后台线程还没结束，但由于仅有一条来自Handler的弱引用指向Activity，所以GC仍然会在检查的时候把Activity回收掉。这样，内存泄露的问题就不会出现了。\n","source":"_posts/Android中Handler的简单终结.md","raw":"---\ntitle: Android中Handler的简单终结\ndate: 2016-05-12 21:37:59\ntags: Android\n---\n1.Handler何用？\n在实际开发中Handler是为了解决在子线程更新UI的问题。\n\n2.Handler，Looper，MessageQueue的创建？\n一个Handler通常和一个Looper和一个MessageQueue绑定在一起。\n在线程中创建一个Handler时通常会同时创建一个Looper（通过Looper.prepare()为当前线程创建一个Looper,\n并使用Looper.loop()来开启消息的读取）及MessageQueue（创建Looper的同时创建），\n而平时我们在主线程中创建Handler却可以省略该步骤主要是由于主线程在开启时就已自动Looper，\n可以通过getMainLooper()来获取主线程的Looper。\n\n3.Looper,Handler,MessageQueue的引用关系?\nLooper：好比一个泵，循环不断的在MessageQueue中查询消息\nMessageQueue：消息池，用于存放消息\n\n一个线程对应只有一个Looper和一个MessageQueue，但可以有多个Handler。\n\n子线程创建一条MSG通过Handler发送消息到主线程的MessageQueue中，\n主线程对应的Looper循环不断的在MessageQueue中查询MSG，\n查询到则主线程通过Hanler处理消息。\n\n4.Handler导致内存泄露问题?\n一般我们写Handler:\n```\nHandler mHandler = new Handler() {\n@Override\npublic void handleMessage(Message msg) {\n  }\n}\n```\n当使用内部类（包括匿名类）来创建Handler的时候，Handler对象会隐式地持有一个外部类对象（通常是一个Activity）的引用,而常常在Activity退出后，消息队列还有未被处理完的消息，此时activity依然被handler引用，导致内存无法回收而内存泄露。\n\n解决方法：\n在Handler中增加一个对Activity的弱引用（WeakReference）：\n```\nstatic class MyHandler extends Handler {\nWeakReference mActivityReference;\n\nMyHandler(Activity activity) {\nmActivityReference= new WeakReference(activity);\n}\n\n@Override\npublic void handleMessage(Message msg) {\nfinal Activity activity = mActivityReference.get();\nif (activity != null) {\n    }\n  }\n}\n```\n对于上面的代码，用户在关闭Activity之后，就算后台线程还没结束，但由于仅有一条来自Handler的弱引用指向Activity，所以GC仍然会在检查的时候把Activity回收掉。这样，内存泄露的问题就不会出现了。\n","slug":"Android中Handler的简单终结","published":1,"updated":"2017-02-17T12:16:01.969Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnape70001jc2z9ax6h0aj","content":"<p>1.Handler何用？<br>在实际开发中Handler是为了解决在子线程更新UI的问题。</p>\n<p>2.Handler，Looper，MessageQueue的创建？<br>一个Handler通常和一个Looper和一个MessageQueue绑定在一起。<br>在线程中创建一个Handler时通常会同时创建一个Looper（通过Looper.prepare()为当前线程创建一个Looper,<br>并使用Looper.loop()来开启消息的读取）及MessageQueue（创建Looper的同时创建），<br>而平时我们在主线程中创建Handler却可以省略该步骤主要是由于主线程在开启时就已自动Looper，<br>可以通过getMainLooper()来获取主线程的Looper。</p>\n<p>3.Looper,Handler,MessageQueue的引用关系?<br>Looper：好比一个泵，循环不断的在MessageQueue中查询消息<br>MessageQueue：消息池，用于存放消息</p>\n<p>一个线程对应只有一个Looper和一个MessageQueue，但可以有多个Handler。</p>\n<p>子线程创建一条MSG通过Handler发送消息到主线程的MessageQueue中，<br>主线程对应的Looper循环不断的在MessageQueue中查询MSG，<br>查询到则主线程通过Hanler处理消息。</p>\n<p>4.Handler导致内存泄露问题?<br>一般我们写Handler:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">Handler mHandler = new Handler() &#123;</div><div class=\"line\">@Override</div><div class=\"line\">public void handleMessage(Message msg) &#123;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>当使用内部类（包括匿名类）来创建Handler的时候，Handler对象会隐式地持有一个外部类对象（通常是一个Activity）的引用,而常常在Activity退出后，消息队列还有未被处理完的消息，此时activity依然被handler引用，导致内存无法回收而内存泄露。</p>\n<p>解决方法：<br>在Handler中增加一个对Activity的弱引用（WeakReference）：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">static class MyHandler extends Handler &#123;</div><div class=\"line\">WeakReference mActivityReference;</div><div class=\"line\"></div><div class=\"line\">MyHandler(Activity activity) &#123;</div><div class=\"line\">mActivityReference= new WeakReference(activity);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">@Override</div><div class=\"line\">public void handleMessage(Message msg) &#123;</div><div class=\"line\">final Activity activity = mActivityReference.get();</div><div class=\"line\">if (activity != null) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>对于上面的代码，用户在关闭Activity之后，就算后台线程还没结束，但由于仅有一条来自Handler的弱引用指向Activity，所以GC仍然会在检查的时候把Activity回收掉。这样，内存泄露的问题就不会出现了。</p>\n","excerpt":"","more":"<p>1.Handler何用？<br>在实际开发中Handler是为了解决在子线程更新UI的问题。</p>\n<p>2.Handler，Looper，MessageQueue的创建？<br>一个Handler通常和一个Looper和一个MessageQueue绑定在一起。<br>在线程中创建一个Handler时通常会同时创建一个Looper（通过Looper.prepare()为当前线程创建一个Looper,<br>并使用Looper.loop()来开启消息的读取）及MessageQueue（创建Looper的同时创建），<br>而平时我们在主线程中创建Handler却可以省略该步骤主要是由于主线程在开启时就已自动Looper，<br>可以通过getMainLooper()来获取主线程的Looper。</p>\n<p>3.Looper,Handler,MessageQueue的引用关系?<br>Looper：好比一个泵，循环不断的在MessageQueue中查询消息<br>MessageQueue：消息池，用于存放消息</p>\n<p>一个线程对应只有一个Looper和一个MessageQueue，但可以有多个Handler。</p>\n<p>子线程创建一条MSG通过Handler发送消息到主线程的MessageQueue中，<br>主线程对应的Looper循环不断的在MessageQueue中查询MSG，<br>查询到则主线程通过Hanler处理消息。</p>\n<p>4.Handler导致内存泄露问题?<br>一般我们写Handler:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">Handler mHandler = new Handler() &#123;</div><div class=\"line\">@Override</div><div class=\"line\">public void handleMessage(Message msg) &#123;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>当使用内部类（包括匿名类）来创建Handler的时候，Handler对象会隐式地持有一个外部类对象（通常是一个Activity）的引用,而常常在Activity退出后，消息队列还有未被处理完的消息，此时activity依然被handler引用，导致内存无法回收而内存泄露。</p>\n<p>解决方法：<br>在Handler中增加一个对Activity的弱引用（WeakReference）：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">static class MyHandler extends Handler &#123;</div><div class=\"line\">WeakReference mActivityReference;</div><div class=\"line\"></div><div class=\"line\">MyHandler(Activity activity) &#123;</div><div class=\"line\">mActivityReference= new WeakReference(activity);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">@Override</div><div class=\"line\">public void handleMessage(Message msg) &#123;</div><div class=\"line\">final Activity activity = mActivityReference.get();</div><div class=\"line\">if (activity != null) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>对于上面的代码，用户在关闭Activity之后，就算后台线程还没结束，但由于仅有一条来自Handler的弱引用指向Activity，所以GC仍然会在检查的时候把Activity回收掉。这样，内存泄露的问题就不会出现了。</p>\n"},{"title":"Android事件分发机制的简单解读","date":"2016-05-22T12:52:44.000Z","_content":"本篇文章只是简单的终结Android中事件的分发机制便于记忆\n\n首先ViewGroup有onInterceptTouchEvent，dispatchTouchEvent和onTouchEvent方法\n而View有dispatchTouchEvent和onTouchEvent方法。\n\n每一个事件都是从ViewGroup开始，\n1.父控件ViewGroup先执行onInterceptTouchEvent（拦截），\n  onInterceptTouchEvent若返回true表示拦截则由该ViewGroup的onTouchEvent处理，\n  （其中onTouchEvent若返回true表示自身消费该事件，若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给ViewGroup的父控件处理该onTouchEvent）\n  onInterceptTouchEvent若返回false表示不拦截则由该ViewGroup的dispatchTouchEvent（向下传递）给子控件（ViewGroup或View）处理。\n\n2.当事件传递到View控件时，先执行onTouchEvent事件，\n  其中onTouchEvent若返回true表示自身消费该事件，\n  若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给父控件处理该onTouchEvent。\n","source":"_posts/Android事件分发机制的简单解读.md","raw":"---\ntitle: Android事件分发机制的简单解读\ndate: 2016-05-22 20:52:44\ntags: Android\n---\n本篇文章只是简单的终结Android中事件的分发机制便于记忆\n\n首先ViewGroup有onInterceptTouchEvent，dispatchTouchEvent和onTouchEvent方法\n而View有dispatchTouchEvent和onTouchEvent方法。\n\n每一个事件都是从ViewGroup开始，\n1.父控件ViewGroup先执行onInterceptTouchEvent（拦截），\n  onInterceptTouchEvent若返回true表示拦截则由该ViewGroup的onTouchEvent处理，\n  （其中onTouchEvent若返回true表示自身消费该事件，若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给ViewGroup的父控件处理该onTouchEvent）\n  onInterceptTouchEvent若返回false表示不拦截则由该ViewGroup的dispatchTouchEvent（向下传递）给子控件（ViewGroup或View）处理。\n\n2.当事件传递到View控件时，先执行onTouchEvent事件，\n  其中onTouchEvent若返回true表示自身消费该事件，\n  若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给父控件处理该onTouchEvent。\n","slug":"Android事件分发机制的简单解读","published":1,"updated":"2017-02-17T12:18:34.192Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapeo0003jc2zv04wm8hr","content":"<p>本篇文章只是简单的终结Android中事件的分发机制便于记忆</p>\n<p>首先ViewGroup有onInterceptTouchEvent，dispatchTouchEvent和onTouchEvent方法<br>而View有dispatchTouchEvent和onTouchEvent方法。</p>\n<p>每一个事件都是从ViewGroup开始，<br>1.父控件ViewGroup先执行onInterceptTouchEvent（拦截），<br>  onInterceptTouchEvent若返回true表示拦截则由该ViewGroup的onTouchEvent处理，<br>  （其中onTouchEvent若返回true表示自身消费该事件，若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给ViewGroup的父控件处理该onTouchEvent）<br>  onInterceptTouchEvent若返回false表示不拦截则由该ViewGroup的dispatchTouchEvent（向下传递）给子控件（ViewGroup或View）处理。</p>\n<p>2.当事件传递到View控件时，先执行onTouchEvent事件，<br>  其中onTouchEvent若返回true表示自身消费该事件，<br>  若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给父控件处理该onTouchEvent。</p>\n","excerpt":"","more":"<p>本篇文章只是简单的终结Android中事件的分发机制便于记忆</p>\n<p>首先ViewGroup有onInterceptTouchEvent，dispatchTouchEvent和onTouchEvent方法<br>而View有dispatchTouchEvent和onTouchEvent方法。</p>\n<p>每一个事件都是从ViewGroup开始，<br>1.父控件ViewGroup先执行onInterceptTouchEvent（拦截），<br>  onInterceptTouchEvent若返回true表示拦截则由该ViewGroup的onTouchEvent处理，<br>  （其中onTouchEvent若返回true表示自身消费该事件，若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给ViewGroup的父控件处理该onTouchEvent）<br>  onInterceptTouchEvent若返回false表示不拦截则由该ViewGroup的dispatchTouchEvent（向下传递）给子控件（ViewGroup或View）处理。</p>\n<p>2.当事件传递到View控件时，先执行onTouchEvent事件，<br>  其中onTouchEvent若返回true表示自身消费该事件，<br>  若onTouchEvent返回false则执行dispatchTouchEvent（向上反馈）给父控件处理该onTouchEvent。</p>\n"},{"title":"Android动态修改某个控件大小","date":"2016-06-10T12:05:15.000Z","_content":"\n1. 动态修改Margin 和 大小\n```\nViewGroup.LayoutParams layoutParams = (ViewGroup.LayoutParams)view.getLayoutParams();\nlayoutParams.topMargin= top; //像素px\nparlayoutParamsams.width = width;\nlayoutParams.height = height;\nview.setLayoutParams(layoutParams);\n```\n2. 动态修改Padding\n```\nview.setPadding(left,top,right,bottom);\n```\n3. 动态修改TextView的drawable\n```\nDrawable icon = getResources().getDrawable(R.mipmap.img);\nicon.setBounds(0,0,iconUp.getMinimumWidth(),iconUp.getMinimumHeight());\ntv.setCompoundDrawables(icon, null, null, null);\n```\n","source":"_posts/Android动态修改某个控件大小.md","raw":"---\ntitle: Android动态修改某个控件大小\ndate: 2016-06-10 20:05:15\ntags: Android\n---\n\n1. 动态修改Margin 和 大小\n```\nViewGroup.LayoutParams layoutParams = (ViewGroup.LayoutParams)view.getLayoutParams();\nlayoutParams.topMargin= top; //像素px\nparlayoutParamsams.width = width;\nlayoutParams.height = height;\nview.setLayoutParams(layoutParams);\n```\n2. 动态修改Padding\n```\nview.setPadding(left,top,right,bottom);\n```\n3. 动态修改TextView的drawable\n```\nDrawable icon = getResources().getDrawable(R.mipmap.img);\nicon.setBounds(0,0,iconUp.getMinimumWidth(),iconUp.getMinimumHeight());\ntv.setCompoundDrawables(icon, null, null, null);\n```\n","slug":"Android动态修改某个控件大小","published":1,"updated":"2017-02-17T12:16:28.920Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnaper0004jc2znmd8fjds","content":"<ol>\n<li><p>动态修改Margin 和 大小</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">ViewGroup.LayoutParams layoutParams = (ViewGroup.LayoutParams)view.getLayoutParams();</div><div class=\"line\">layoutParams.topMargin= top; //像素px</div><div class=\"line\">parlayoutParamsams.width = width;</div><div class=\"line\">layoutParams.height = height;</div><div class=\"line\">view.setLayoutParams(layoutParams);</div></pre></td></tr></table></figure>\n</li>\n<li><p>动态修改Padding</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">view.setPadding(left,top,right,bottom);</div></pre></td></tr></table></figure>\n</li>\n<li><p>动态修改TextView的drawable</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Drawable icon = getResources().getDrawable(R.mipmap.img);</div><div class=\"line\">icon.setBounds(0,0,iconUp.getMinimumWidth(),iconUp.getMinimumHeight());</div><div class=\"line\">tv.setCompoundDrawables(icon, null, null, null);</div></pre></td></tr></table></figure>\n</li>\n</ol>\n","excerpt":"","more":"<ol>\n<li><p>动态修改Margin 和 大小</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">ViewGroup.LayoutParams layoutParams = (ViewGroup.LayoutParams)view.getLayoutParams();</div><div class=\"line\">layoutParams.topMargin= top; //像素px</div><div class=\"line\">parlayoutParamsams.width = width;</div><div class=\"line\">layoutParams.height = height;</div><div class=\"line\">view.setLayoutParams(layoutParams);</div></pre></td></tr></table></figure>\n</li>\n<li><p>动态修改Padding</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">view.setPadding(left,top,right,bottom);</div></pre></td></tr></table></figure>\n</li>\n<li><p>动态修改TextView的drawable</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Drawable icon = getResources().getDrawable(R.mipmap.img);</div><div class=\"line\">icon.setBounds(0,0,iconUp.getMinimumWidth(),iconUp.getMinimumHeight());</div><div class=\"line\">tv.setCompoundDrawables(icon, null, null, null);</div></pre></td></tr></table></figure>\n</li>\n</ol>\n"},{"title":"Android设置全屏的几种方式","date":"2016-06-10T11:39:20.000Z","_content":"\n1. 将状态栏导航栏透明化，API19以上有效\n```\nif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {\n    //透明状态栏\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n    //透明导航栏\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);\n}\n```\n2. 设置全屏参数\n```\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n```\n3. 沉浸式\n```\nView decorView = getWindow().getDecorView();\nint option = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\ndecorView.setSystemUiVisibility(option);\n```\n具体参照 ： http://blog.csdn.net/sinyu890807/article/details/51763825\n","source":"_posts/Android设置全屏的几种方式.md","raw":"---\ntitle: Android设置全屏的几种方式\ndate: 2016-06-10 19:39:20\ntags: Android\n---\n\n1. 将状态栏导航栏透明化，API19以上有效\n```\nif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {\n    //透明状态栏\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n    //透明导航栏\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);\n}\n```\n2. 设置全屏参数\n```\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n```\n3. 沉浸式\n```\nView decorView = getWindow().getDecorView();\nint option = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\ndecorView.setSystemUiVisibility(option);\n```\n具体参照 ： http://blog.csdn.net/sinyu890807/article/details/51763825\n","slug":"Android设置全屏的几种方式","published":1,"updated":"2017-02-17T12:16:21.596Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapf30005jc2z3zjnwrx4","content":"<ol>\n<li><p>将状态栏导航栏透明化，API19以上有效</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</div><div class=\"line\">    //透明状态栏</div><div class=\"line\">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</div><div class=\"line\">    //透明导航栏</div><div class=\"line\">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>设置全屏参数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</div></pre></td></tr></table></figure>\n</li>\n<li><p>沉浸式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">View decorView = getWindow().getDecorView();</div><div class=\"line\">int option = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;</div><div class=\"line\">decorView.setSystemUiVisibility(option);</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>具体参照 ： <a href=\"http://blog.csdn.net/sinyu890807/article/details/51763825\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/sinyu890807/article/details/51763825</a></p>\n","excerpt":"","more":"<ol>\n<li><p>将状态栏导航栏透明化，API19以上有效</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</div><div class=\"line\">    //透明状态栏</div><div class=\"line\">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</div><div class=\"line\">    //透明导航栏</div><div class=\"line\">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>设置全屏参数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</div></pre></td></tr></table></figure>\n</li>\n<li><p>沉浸式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">View decorView = getWindow().getDecorView();</div><div class=\"line\">int option = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;</div><div class=\"line\">decorView.setSystemUiVisibility(option);</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>具体参照 ： <a href=\"http://blog.csdn.net/sinyu890807/article/details/51763825\">http://blog.csdn.net/sinyu890807/article/details/51763825</a></p>\n"},{"title":"EditText相关","date":"2016-03-21T12:07:11.000Z","_content":"1.光标\n```\ntx_count.setCursorVisible(true); //设置光标\ntx_count.setSelection(tx_count.length()); //设置光标位置\n```\n2.自动弹窗软键盘\n```\ntx_count.requestFocus();\nInputMethodManager imm = (InputMethodManager) tx_count.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(0, InputMethodManager.SHOW_FORCED);\n```\n3.输入监听\n```\ntx_count.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n    }\n});\n```\n4.xml:\n```\nandroid:inputType=\"phone\" //输入类型\nandroid:digits=\"0123456789.\" //只能输入数字和点\nandroid:background=\"@null\" //背景为空\nandroid:cursorVisible=\"false\" //不显示光标\nandroid:maxLength=\"5\" //5个字符\n```\n5.AndroidManifest.xml\n```\nandroid:windowSoftInputMode=\"stateHidden|stateAlwaysHidden\"  //不弹出软键盘\nandroid:windowSoftInputMode=\"stateVisible|stateAlwaysVisible\"  //自动弹出软键盘\n```\n","source":"_posts/EditText相关.md","raw":"---\ntitle: EditText相关\ndate: 2016-03-21 20:07:11\ntags: Android\n---\n1.光标\n```\ntx_count.setCursorVisible(true); //设置光标\ntx_count.setSelection(tx_count.length()); //设置光标位置\n```\n2.自动弹窗软键盘\n```\ntx_count.requestFocus();\nInputMethodManager imm = (InputMethodManager) tx_count.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(0, InputMethodManager.SHOW_FORCED);\n```\n3.输入监听\n```\ntx_count.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n    }\n});\n```\n4.xml:\n```\nandroid:inputType=\"phone\" //输入类型\nandroid:digits=\"0123456789.\" //只能输入数字和点\nandroid:background=\"@null\" //背景为空\nandroid:cursorVisible=\"false\" //不显示光标\nandroid:maxLength=\"5\" //5个字符\n```\n5.AndroidManifest.xml\n```\nandroid:windowSoftInputMode=\"stateHidden|stateAlwaysHidden\"  //不弹出软键盘\nandroid:windowSoftInputMode=\"stateVisible|stateAlwaysVisible\"  //自动弹出软键盘\n```\n","slug":"EditText相关","published":1,"updated":"2017-02-17T12:15:55.077Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapfg0008jc2zldvvku22","content":"<p>1.光标<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.setCursorVisible(true); //设置光标</div><div class=\"line\">tx_count.setSelection(tx_count.length()); //设置光标位置</div></pre></td></tr></table></figure></p>\n<p>2.自动弹窗软键盘<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.requestFocus();</div><div class=\"line\">InputMethodManager imm = (InputMethodManager) tx_count.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);</div><div class=\"line\">imm.toggleSoftInput(0, InputMethodManager.SHOW_FORCED);</div></pre></td></tr></table></figure></p>\n<p>3.输入监听<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.addTextChangedListener(new TextWatcher() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onTextChanged(CharSequence s, int start, int before, int count) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void afterTextChanged(Editable s) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>4.xml:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:inputType=&quot;phone&quot; //输入类型</div><div class=\"line\">android:digits=&quot;0123456789.&quot; //只能输入数字和点</div><div class=\"line\">android:background=&quot;@null&quot; //背景为空</div><div class=\"line\">android:cursorVisible=&quot;false&quot; //不显示光标</div><div class=\"line\">android:maxLength=&quot;5&quot; //5个字符</div></pre></td></tr></table></figure></p>\n<p>5.AndroidManifest.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:windowSoftInputMode=&quot;stateHidden|stateAlwaysHidden&quot;  //不弹出软键盘</div><div class=\"line\">android:windowSoftInputMode=&quot;stateVisible|stateAlwaysVisible&quot;  //自动弹出软键盘</div></pre></td></tr></table></figure></p>\n","excerpt":"","more":"<p>1.光标<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.setCursorVisible(true); //设置光标</div><div class=\"line\">tx_count.setSelection(tx_count.length()); //设置光标位置</div></pre></td></tr></table></figure></p>\n<p>2.自动弹窗软键盘<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.requestFocus();</div><div class=\"line\">InputMethodManager imm = (InputMethodManager) tx_count.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);</div><div class=\"line\">imm.toggleSoftInput(0, InputMethodManager.SHOW_FORCED);</div></pre></td></tr></table></figure></p>\n<p>3.输入监听<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">tx_count.addTextChangedListener(new TextWatcher() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onTextChanged(CharSequence s, int start, int before, int count) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void afterTextChanged(Editable s) &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>4.xml:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:inputType=&quot;phone&quot; //输入类型</div><div class=\"line\">android:digits=&quot;0123456789.&quot; //只能输入数字和点</div><div class=\"line\">android:background=&quot;@null&quot; //背景为空</div><div class=\"line\">android:cursorVisible=&quot;false&quot; //不显示光标</div><div class=\"line\">android:maxLength=&quot;5&quot; //5个字符</div></pre></td></tr></table></figure></p>\n<p>5.AndroidManifest.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:windowSoftInputMode=&quot;stateHidden|stateAlwaysHidden&quot;  //不弹出软键盘</div><div class=\"line\">android:windowSoftInputMode=&quot;stateVisible|stateAlwaysVisible&quot;  //自动弹出软键盘</div></pre></td></tr></table></figure></p>\n"},{"title":"Fragment的管理","date":"2016-06-17T13:09:27.000Z","_content":"一.生命周期\nFragment的生命周期方法主要有\nonAttach()\nonCreate()\nonCreateView()\nonActivityCreated()\nonstart()\nonResume()\nonPause()\nonStop()\nonDestroyView()\nonDestroy()\nonDetach()等11个方法。\n\n切换到该Fragment，分别执行onAttach()、onCreate()、onCreateView()、onActivityCreated()、onstart()、onResume()方法。\n锁屏，分别执行onPause()、onStop()方法。\n亮屏，分别执行onstart()、onResume()方法。\n覆盖，切换到其他Fragment，分别执行onPause()、onStop()、onDestroyView()方法。\n从其他Fragment回到之前Fragment，分别执行onCreateView()、onActivityCreated()、onstart()、onResume()方法。\n\n二.Fragment与activity如何传值和交互？\nFragment对象有一个getActivity的方法，通过该方法与activity交互.\n使用framentmentManager.findFragmentByXX可以获取fragment对象，在activity中直接操作fragment对象\n","source":"_posts/Fragment的管理.md","raw":"---\ntitle: Fragment的管理\ndate: 2016-06-17 21:09:27\ntags: Android\n---\n一.生命周期\nFragment的生命周期方法主要有\nonAttach()\nonCreate()\nonCreateView()\nonActivityCreated()\nonstart()\nonResume()\nonPause()\nonStop()\nonDestroyView()\nonDestroy()\nonDetach()等11个方法。\n\n切换到该Fragment，分别执行onAttach()、onCreate()、onCreateView()、onActivityCreated()、onstart()、onResume()方法。\n锁屏，分别执行onPause()、onStop()方法。\n亮屏，分别执行onstart()、onResume()方法。\n覆盖，切换到其他Fragment，分别执行onPause()、onStop()、onDestroyView()方法。\n从其他Fragment回到之前Fragment，分别执行onCreateView()、onActivityCreated()、onstart()、onResume()方法。\n\n二.Fragment与activity如何传值和交互？\nFragment对象有一个getActivity的方法，通过该方法与activity交互.\n使用framentmentManager.findFragmentByXX可以获取fragment对象，在activity中直接操作fragment对象\n","slug":"Fragment的管理","published":1,"updated":"2017-02-19T12:21:59.012Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapfp000ajc2zm0tdu7cu","content":"<p>一.生命周期<br>Fragment的生命周期方法主要有<br>onAttach()<br>onCreate()<br>onCreateView()<br>onActivityCreated()<br>onstart()<br>onResume()<br>onPause()<br>onStop()<br>onDestroyView()<br>onDestroy()<br>onDetach()等11个方法。</p>\n<p>切换到该Fragment，分别执行onAttach()、onCreate()、onCreateView()、onActivityCreated()、onstart()、onResume()方法。<br>锁屏，分别执行onPause()、onStop()方法。<br>亮屏，分别执行onstart()、onResume()方法。<br>覆盖，切换到其他Fragment，分别执行onPause()、onStop()、onDestroyView()方法。<br>从其他Fragment回到之前Fragment，分别执行onCreateView()、onActivityCreated()、onstart()、onResume()方法。</p>\n<p>二.Fragment与activity如何传值和交互？<br>Fragment对象有一个getActivity的方法，通过该方法与activity交互.<br>使用framentmentManager.findFragmentByXX可以获取fragment对象，在activity中直接操作fragment对象</p>\n","excerpt":"","more":"<p>一.生命周期<br>Fragment的生命周期方法主要有<br>onAttach()<br>onCreate()<br>onCreateView()<br>onActivityCreated()<br>onstart()<br>onResume()<br>onPause()<br>onStop()<br>onDestroyView()<br>onDestroy()<br>onDetach()等11个方法。</p>\n<p>切换到该Fragment，分别执行onAttach()、onCreate()、onCreateView()、onActivityCreated()、onstart()、onResume()方法。<br>锁屏，分别执行onPause()、onStop()方法。<br>亮屏，分别执行onstart()、onResume()方法。<br>覆盖，切换到其他Fragment，分别执行onPause()、onStop()、onDestroyView()方法。<br>从其他Fragment回到之前Fragment，分别执行onCreateView()、onActivityCreated()、onstart()、onResume()方法。</p>\n<p>二.Fragment与activity如何传值和交互？<br>Fragment对象有一个getActivity的方法，通过该方法与activity交互.<br>使用framentmentManager.findFragmentByXX可以获取fragment对象，在activity中直接操作fragment对象</p>\n"},{"title":"Java注解反射","date":"2016-06-17T13:10:16.000Z","_content":"一.3种方式获取加载指定的类\nClass cla = 类名.class\nClass cla = 对象.getClass();\nClass cla = Class.forName(\"name\");\n\nDemo demo = (Demo)cla.newInstance(); //加载指定类的对象\ndemo.a(); //调用对象的方法\n\n```\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\ttry {\n\t\t\tClass c = MyDemo.class;\n\t\t\tMyDemo demo = (MyDemo) c.newInstance();\n\t\t\tSystem.out.println(\"--->c: \" + demo.c); //如果是在同一个包下,则可以调用protected属性和方法,否则只能操作public\n\t\t\tdemo.f();\n\t\t\tSystem.out.println(\"成员变量个数 : \" + c.getDeclaredFields().length); //能取到所有的属性\n\t\t\tSystem.out.println(\"公开方法个数 : \" + c.getMethods().length);//能取到公开方法,包括父类的\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}\n```\n输出:\n--->c: 0\n--->f\n成员变量个数 : 3\n公开方法个数 : 10\n```\npackage test2;\npublic class MyDemo {\n\tprivate int a;\n\tprotected int b;\n\tpublic int c;\n\n\tprivate void d() {\n\t\tSystem.out.println(\"--->d \");\n\t}\n\n\tprotected void e(){\n\t\tSystem.out.println(\"--->e \");\n\t}\n\n\tpublic void f() {\n\t\tSystem.out.println(\"--->f \");\n\t}\n}\n```\n二.Field 成员变量\nClass c = MyDemo.class;\nField[] fieldArray = c.getFields(); //得到Field数组\n```\nClass c = MyDemo.class;\nMyDemo demo = (MyDemo) c.newInstance();\nField[] fieldArray = c.getFields();\nfor(int i = 0; i<fieldArray.length;i++){\n\t\tField field = fieldArray[i];\n\t\tSystem.out.println(\"变量名称 : \" + field.getName());\n    System.out.println(\"变量值 : \" + field.get(demo));\n}\n```\n输出:\n变量名称 : c\n变量值 : 0\n(只打印出公开成员)\n\n修改访问限制:\n```\n//获取所有的成员,包含private\nField[] fieldArray = c.getDeclaredFields();\nfield[0].setAccessible(true);\n```\n三.Method 方法\nClass c = MyDemo.class;\nMethod[] ma = c.getMethods();\n```\nMethod[] mo = c.getMethods();\nfor(int i = 0; i<mo.length;i++){\n  Method method = mo[i];\n  System.out.println(\"方法名 : \" + method.getName());\n  System.out.println(\"方法返回类型 : \" + method.getReturnType());\n\tParameter[] parames = method.getParameters();//获取参数列表\n}\n```\ninvoke()的使用:\n```\n//getMethod,分别传入方法名,参数类型\n//invoke,分别传入对象,参数,没有则为null\nc.getMethod(\"f\", null).invoke(demo, null);\n```\n修改访问限制:\n```\n//获取所有的成员变量,包含private\nMethod[] mo = c.getDeclaredMethods();\nAccessibleObject.setAccessible(mo, true);\nmo[2].invoke(demo, null);\n```\n四.Constructor 构造器\n","source":"_posts/Java注解反射.md","raw":"---\ntitle: Java注解反射\ndate: 2016-06-17 21:10:16\ntags: Java\n---\n一.3种方式获取加载指定的类\nClass cla = 类名.class\nClass cla = 对象.getClass();\nClass cla = Class.forName(\"name\");\n\nDemo demo = (Demo)cla.newInstance(); //加载指定类的对象\ndemo.a(); //调用对象的方法\n\n```\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\ttry {\n\t\t\tClass c = MyDemo.class;\n\t\t\tMyDemo demo = (MyDemo) c.newInstance();\n\t\t\tSystem.out.println(\"--->c: \" + demo.c); //如果是在同一个包下,则可以调用protected属性和方法,否则只能操作public\n\t\t\tdemo.f();\n\t\t\tSystem.out.println(\"成员变量个数 : \" + c.getDeclaredFields().length); //能取到所有的属性\n\t\t\tSystem.out.println(\"公开方法个数 : \" + c.getMethods().length);//能取到公开方法,包括父类的\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}\n```\n输出:\n--->c: 0\n--->f\n成员变量个数 : 3\n公开方法个数 : 10\n```\npackage test2;\npublic class MyDemo {\n\tprivate int a;\n\tprotected int b;\n\tpublic int c;\n\n\tprivate void d() {\n\t\tSystem.out.println(\"--->d \");\n\t}\n\n\tprotected void e(){\n\t\tSystem.out.println(\"--->e \");\n\t}\n\n\tpublic void f() {\n\t\tSystem.out.println(\"--->f \");\n\t}\n}\n```\n二.Field 成员变量\nClass c = MyDemo.class;\nField[] fieldArray = c.getFields(); //得到Field数组\n```\nClass c = MyDemo.class;\nMyDemo demo = (MyDemo) c.newInstance();\nField[] fieldArray = c.getFields();\nfor(int i = 0; i<fieldArray.length;i++){\n\t\tField field = fieldArray[i];\n\t\tSystem.out.println(\"变量名称 : \" + field.getName());\n    System.out.println(\"变量值 : \" + field.get(demo));\n}\n```\n输出:\n变量名称 : c\n变量值 : 0\n(只打印出公开成员)\n\n修改访问限制:\n```\n//获取所有的成员,包含private\nField[] fieldArray = c.getDeclaredFields();\nfield[0].setAccessible(true);\n```\n三.Method 方法\nClass c = MyDemo.class;\nMethod[] ma = c.getMethods();\n```\nMethod[] mo = c.getMethods();\nfor(int i = 0; i<mo.length;i++){\n  Method method = mo[i];\n  System.out.println(\"方法名 : \" + method.getName());\n  System.out.println(\"方法返回类型 : \" + method.getReturnType());\n\tParameter[] parames = method.getParameters();//获取参数列表\n}\n```\ninvoke()的使用:\n```\n//getMethod,分别传入方法名,参数类型\n//invoke,分别传入对象,参数,没有则为null\nc.getMethod(\"f\", null).invoke(demo, null);\n```\n修改访问限制:\n```\n//获取所有的成员变量,包含private\nMethod[] mo = c.getDeclaredMethods();\nAccessibleObject.setAccessible(mo, true);\nmo[2].invoke(demo, null);\n```\n四.Constructor 构造器\n","slug":"Java注解反射","published":1,"updated":"2017-02-18T13:31:26.974Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapg0000djc2zhdaczwl6","content":"<p>一.3种方式获取加载指定的类<br>Class cla = 类名.class<br>Class cla = 对象.getClass();<br>Class cla = Class.forName(“name”);</p>\n<p>Demo demo = (Demo)cla.newInstance(); //加载指定类的对象<br>demo.a(); //调用对象的方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class Test &#123;</div><div class=\"line\">\tpublic static void main(String[] args) &#123;</div><div class=\"line\">\t\ttry &#123;</div><div class=\"line\">\t\t\tClass c = MyDemo.class;</div><div class=\"line\">\t\t\tMyDemo demo = (MyDemo) c.newInstance();</div><div class=\"line\">\t\t\tSystem.out.println(&quot;---&gt;c: &quot; + demo.c); //如果是在同一个包下,则可以调用protected属性和方法,否则只能操作public</div><div class=\"line\">\t\t\tdemo.f();</div><div class=\"line\">\t\t\tSystem.out.println(&quot;成员变量个数 : &quot; + c.getDeclaredFields().length); //能取到所有的属性</div><div class=\"line\">\t\t\tSystem.out.println(&quot;公开方法个数 : &quot; + c.getMethods().length);//能取到公开方法,包括父类的</div><div class=\"line\">\t\t&#125; catch (Exception e) &#123;</div><div class=\"line\">\t\t\te.printStackTrace();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>输出:<br>—&gt;c: 0<br>—&gt;f<br>成员变量个数 : 3<br>公开方法个数 : 10<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">package test2;</div><div class=\"line\">public class MyDemo &#123;</div><div class=\"line\">\tprivate int a;</div><div class=\"line\">\tprotected int b;</div><div class=\"line\">\tpublic int c;</div><div class=\"line\"></div><div class=\"line\">\tprivate void d() &#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;d &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tprotected void e()&#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;e &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tpublic void f() &#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;f &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>二.Field 成员变量<br>Class c = MyDemo.class;<br>Field[] fieldArray = c.getFields(); //得到Field数组<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Class c = MyDemo.class;</div><div class=\"line\">MyDemo demo = (MyDemo) c.newInstance();</div><div class=\"line\">Field[] fieldArray = c.getFields();</div><div class=\"line\">for(int i = 0; i&lt;fieldArray.length;i++)&#123;</div><div class=\"line\">\t\tField field = fieldArray[i];</div><div class=\"line\">\t\tSystem.out.println(&quot;变量名称 : &quot; + field.getName());</div><div class=\"line\">    System.out.println(&quot;变量值 : &quot; + field.get(demo));</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>输出:<br>变量名称 : c<br>变量值 : 0<br>(只打印出公开成员)</p>\n<p>修改访问限制:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//获取所有的成员,包含private</div><div class=\"line\">Field[] fieldArray = c.getDeclaredFields();</div><div class=\"line\">field[0].setAccessible(true);</div></pre></td></tr></table></figure></p>\n<p>三.Method 方法<br>Class c = MyDemo.class;<br>Method[] ma = c.getMethods();<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">Method[] mo = c.getMethods();</div><div class=\"line\">for(int i = 0; i&lt;mo.length;i++)&#123;</div><div class=\"line\">  Method method = mo[i];</div><div class=\"line\">  System.out.println(&quot;方法名 : &quot; + method.getName());</div><div class=\"line\">  System.out.println(&quot;方法返回类型 : &quot; + method.getReturnType());</div><div class=\"line\">\tParameter[] parames = method.getParameters();//获取参数列表</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>invoke()的使用:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//getMethod,分别传入方法名,参数类型</div><div class=\"line\">//invoke,分别传入对象,参数,没有则为null</div><div class=\"line\">c.getMethod(&quot;f&quot;, null).invoke(demo, null);</div></pre></td></tr></table></figure></p>\n<p>修改访问限制:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">//获取所有的成员变量,包含private</div><div class=\"line\">Method[] mo = c.getDeclaredMethods();</div><div class=\"line\">AccessibleObject.setAccessible(mo, true);</div><div class=\"line\">mo[2].invoke(demo, null);</div></pre></td></tr></table></figure></p>\n<p>四.Constructor 构造器</p>\n","excerpt":"","more":"<p>一.3种方式获取加载指定的类<br>Class cla = 类名.class<br>Class cla = 对象.getClass();<br>Class cla = Class.forName(“name”);</p>\n<p>Demo demo = (Demo)cla.newInstance(); //加载指定类的对象<br>demo.a(); //调用对象的方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class Test &#123;</div><div class=\"line\">\tpublic static void main(String[] args) &#123;</div><div class=\"line\">\t\ttry &#123;</div><div class=\"line\">\t\t\tClass c = MyDemo.class;</div><div class=\"line\">\t\t\tMyDemo demo = (MyDemo) c.newInstance();</div><div class=\"line\">\t\t\tSystem.out.println(&quot;---&gt;c: &quot; + demo.c); //如果是在同一个包下,则可以调用protected属性和方法,否则只能操作public</div><div class=\"line\">\t\t\tdemo.f();</div><div class=\"line\">\t\t\tSystem.out.println(&quot;成员变量个数 : &quot; + c.getDeclaredFields().length); //能取到所有的属性</div><div class=\"line\">\t\t\tSystem.out.println(&quot;公开方法个数 : &quot; + c.getMethods().length);//能取到公开方法,包括父类的</div><div class=\"line\">\t\t&#125; catch (Exception e) &#123;</div><div class=\"line\">\t\t\te.printStackTrace();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>输出:<br>—&gt;c: 0<br>—&gt;f<br>成员变量个数 : 3<br>公开方法个数 : 10<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">package test2;</div><div class=\"line\">public class MyDemo &#123;</div><div class=\"line\">\tprivate int a;</div><div class=\"line\">\tprotected int b;</div><div class=\"line\">\tpublic int c;</div><div class=\"line\"></div><div class=\"line\">\tprivate void d() &#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;d &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tprotected void e()&#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;e &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tpublic void f() &#123;</div><div class=\"line\">\t\tSystem.out.println(&quot;---&gt;f &quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>二.Field 成员变量<br>Class c = MyDemo.class;<br>Field[] fieldArray = c.getFields(); //得到Field数组<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Class c = MyDemo.class;</div><div class=\"line\">MyDemo demo = (MyDemo) c.newInstance();</div><div class=\"line\">Field[] fieldArray = c.getFields();</div><div class=\"line\">for(int i = 0; i&lt;fieldArray.length;i++)&#123;</div><div class=\"line\">\t\tField field = fieldArray[i];</div><div class=\"line\">\t\tSystem.out.println(&quot;变量名称 : &quot; + field.getName());</div><div class=\"line\">    System.out.println(&quot;变量值 : &quot; + field.get(demo));</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>输出:<br>变量名称 : c<br>变量值 : 0<br>(只打印出公开成员)</p>\n<p>修改访问限制:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//获取所有的成员,包含private</div><div class=\"line\">Field[] fieldArray = c.getDeclaredFields();</div><div class=\"line\">field[0].setAccessible(true);</div></pre></td></tr></table></figure></p>\n<p>三.Method 方法<br>Class c = MyDemo.class;<br>Method[] ma = c.getMethods();<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">Method[] mo = c.getMethods();</div><div class=\"line\">for(int i = 0; i&lt;mo.length;i++)&#123;</div><div class=\"line\">  Method method = mo[i];</div><div class=\"line\">  System.out.println(&quot;方法名 : &quot; + method.getName());</div><div class=\"line\">  System.out.println(&quot;方法返回类型 : &quot; + method.getReturnType());</div><div class=\"line\">\tParameter[] parames = method.getParameters();//获取参数列表</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>invoke()的使用:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//getMethod,分别传入方法名,参数类型</div><div class=\"line\">//invoke,分别传入对象,参数,没有则为null</div><div class=\"line\">c.getMethod(&quot;f&quot;, null).invoke(demo, null);</div></pre></td></tr></table></figure></p>\n<p>修改访问限制:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">//获取所有的成员变量,包含private</div><div class=\"line\">Method[] mo = c.getDeclaredMethods();</div><div class=\"line\">AccessibleObject.setAccessible(mo, true);</div><div class=\"line\">mo[2].invoke(demo, null);</div></pre></td></tr></table></figure></p>\n<p>四.Constructor 构造器</p>\n"},{"title":"mvp与mvvm","date":"2016-12-17T13:10:41.000Z","_content":"一.MVP\n首先来看MVP各自负责什么：\n\nModel，负责定义数据（解决什么是数据）\nPresenter, 负责在Model和View之间，从model里取出数据，格式化后在View上展示（解决如何把数据和用户界面放在一起）\nView，用于展示数据（解决如何展示数据）\n\n很显然Presenter作为中间者，它是同时拥有View和Model的引用的.\n而Model和View必须是完全隔离的，不允许两者之间互相通信。\n\nModel在三者中是独立性最高的，Model不应该拥有对View的引用，而且Model也不需要保存对Presenter的引用，对于Presenter而已，Model只需要提供接口，等着Presenter来调用时返回相应数据即可，这和经典MVC模式中是非常不同的，在MVC中Model在数据发送变化后，是需要发送广播来告之View去更新用户界面的，而在MVP中，Model是不应该去通知View，而是通知Presenter来间接的更新View的。\n\n而Presenter和Model的关系也应该是基于接口来通信，这样才能把Model和Presenter的耦合度也降到最低，那么在需要改变Model内部实现，甚至彻底替换Model的时候，Presenter则是无需随之改变的。这样做带来的另一个好处就是你可以通过Mock一个Model来对Presenter以及View做模拟测试了，从而提高了可测试性。\n\n那么View和Presenter的关系呢？View是需要拥有对Presenter的引用，但仅仅是为了将用户的操作和事件立即传递给Presenter，为了让View和Presenter耦合较低，View也只应该通过接口与Presenter通信，从而保证View是完全被动的，一方面它由用户的操作触发来和Presenter通信，另一方面它完全受Presenter控制，唯一需要做的事情就是如何展示数据。\n\n简要总结三者之间的关系是：View和Model之间没有联系，View通过接口向Presenter来传递用户操作，Model不主动和Presenter联系，被动的等着Presenter来调用其接口，Presenter通过接口和View/Model来联系。\n\n谷歌官方给的![MVP例子]https://github.com/googlesamples/android-architecture\n\n为了便于理解，这里提供一些伪代码加注释演示一下如何实现MVP模式：\n\nView\n```\ninterface IUserView {\n\n  void setPresenter(presenter);\n  void showUsers(users);\n  void showDeleteUserComplete();\n  void showDeleteUserError();\n\n}\n\nclass UserView implements IUserView {\n\n  UserPresenter presenter;\n\n  // 保持对Presenter的引用，用于路由用户操作\n  void setPresenter(presenter) {\n      this.presenter = presenter;\n  }\n\n  // 将Presenter传递来的数据展示出来\n  void showUsers(users) {\n      draw(users);\n  }\n\n  // Model操作数据成功后，通过Presenter来告之View需要更新用户界面\n  void showDeleteUserComplete() {\n      alert(\"Delete User Complete\");\n  }\n\n  // Model操作数据失败后，也是通过Presenter来告之View需要更新用户界面\n  void showDeleteUserError() {\n      alert(\"Delete User Fail\");\n  }\n\n  // 当用户点击某个按钮时，将用户操作路由给presenter，由presenter去处理\n  void onDeleteButtonClicked(event) {\n      presenter.deleteUser(event);\n  }\n\n}\n```\nModel\n```\ninterface IUserModel {\n\n  List<User> getUsers();\n  boolean deleteUserById();\n\n}\n\nclass UserModel implements IUserModel {\n\n  // 在数据库里查找数据，并将数据返回给presenter\n  List<User> getUsers() {\n       return getUsersInDatabase(id);\n  }\n\n  // 在数据库里删除数据，并将结果返回给presenter\n  User deleteUserById(id) {\n      return deleteUserByIdInDatabase(id);\n  }\n\n}\n```\nPresenter\n```\ninterface IUserUserPresenter {\n\n  void deleteUser(event);\n\n}\n\nclass UserUserPresenter implements IUserPresenter {\n\n  // 保持对View的引用\n  IUserView view;\n  // 保持对Model的引用\n  IUserModel model;\n\n  UserUserPresenter(IUserView view, IUserModel model) {\n    this.view = view;    \n    this.model = model;\n\n    this.view.setPresenter(this);   \n  }\n\n  void start() {\n    // 从Model中取出数据\n    List<User> users = model.getUsers();\n    // 将数据发送给View，让其展示到用户界面\n    view.showUsers(users);\n  }\n\n  void deleteUser(event) {\n    // View将用户操作路由过来，由Presenter来处理\n    long uid = whichUserNeedToDeleteBy(event);\n    // 将用户操作翻译成命令或消息传递给model，以改变数据\n    boolean success = model.deleteUserById(uid);\n    // 将Model操作数据后的结果通知View来改变用户界面\n    if (success) {\n          view.onDeleteUserSuccess();\n    } else {\n        view.onDeleteUserFail();  \n    }\n  }\n}\n```\n\n二.MVVP\nMVVM是由三个核心部分，每个都有它自己的不同而独立的作用：\n\nModel - 包含业务和验证逻辑的数据模型\nView -- 定义结构,布局和View 在屏幕上的显示\nViewModel - 充当 View 和 ViewModel 之间的连接, 处理所有视图逻辑.\n","source":"_posts/MVP与MVVM.md","raw":"---\ntitle: mvp与mvvm\ndate: 2016-12-17 21:10:41\ntags: 架构\n---\n一.MVP\n首先来看MVP各自负责什么：\n\nModel，负责定义数据（解决什么是数据）\nPresenter, 负责在Model和View之间，从model里取出数据，格式化后在View上展示（解决如何把数据和用户界面放在一起）\nView，用于展示数据（解决如何展示数据）\n\n很显然Presenter作为中间者，它是同时拥有View和Model的引用的.\n而Model和View必须是完全隔离的，不允许两者之间互相通信。\n\nModel在三者中是独立性最高的，Model不应该拥有对View的引用，而且Model也不需要保存对Presenter的引用，对于Presenter而已，Model只需要提供接口，等着Presenter来调用时返回相应数据即可，这和经典MVC模式中是非常不同的，在MVC中Model在数据发送变化后，是需要发送广播来告之View去更新用户界面的，而在MVP中，Model是不应该去通知View，而是通知Presenter来间接的更新View的。\n\n而Presenter和Model的关系也应该是基于接口来通信，这样才能把Model和Presenter的耦合度也降到最低，那么在需要改变Model内部实现，甚至彻底替换Model的时候，Presenter则是无需随之改变的。这样做带来的另一个好处就是你可以通过Mock一个Model来对Presenter以及View做模拟测试了，从而提高了可测试性。\n\n那么View和Presenter的关系呢？View是需要拥有对Presenter的引用，但仅仅是为了将用户的操作和事件立即传递给Presenter，为了让View和Presenter耦合较低，View也只应该通过接口与Presenter通信，从而保证View是完全被动的，一方面它由用户的操作触发来和Presenter通信，另一方面它完全受Presenter控制，唯一需要做的事情就是如何展示数据。\n\n简要总结三者之间的关系是：View和Model之间没有联系，View通过接口向Presenter来传递用户操作，Model不主动和Presenter联系，被动的等着Presenter来调用其接口，Presenter通过接口和View/Model来联系。\n\n谷歌官方给的![MVP例子]https://github.com/googlesamples/android-architecture\n\n为了便于理解，这里提供一些伪代码加注释演示一下如何实现MVP模式：\n\nView\n```\ninterface IUserView {\n\n  void setPresenter(presenter);\n  void showUsers(users);\n  void showDeleteUserComplete();\n  void showDeleteUserError();\n\n}\n\nclass UserView implements IUserView {\n\n  UserPresenter presenter;\n\n  // 保持对Presenter的引用，用于路由用户操作\n  void setPresenter(presenter) {\n      this.presenter = presenter;\n  }\n\n  // 将Presenter传递来的数据展示出来\n  void showUsers(users) {\n      draw(users);\n  }\n\n  // Model操作数据成功后，通过Presenter来告之View需要更新用户界面\n  void showDeleteUserComplete() {\n      alert(\"Delete User Complete\");\n  }\n\n  // Model操作数据失败后，也是通过Presenter来告之View需要更新用户界面\n  void showDeleteUserError() {\n      alert(\"Delete User Fail\");\n  }\n\n  // 当用户点击某个按钮时，将用户操作路由给presenter，由presenter去处理\n  void onDeleteButtonClicked(event) {\n      presenter.deleteUser(event);\n  }\n\n}\n```\nModel\n```\ninterface IUserModel {\n\n  List<User> getUsers();\n  boolean deleteUserById();\n\n}\n\nclass UserModel implements IUserModel {\n\n  // 在数据库里查找数据，并将数据返回给presenter\n  List<User> getUsers() {\n       return getUsersInDatabase(id);\n  }\n\n  // 在数据库里删除数据，并将结果返回给presenter\n  User deleteUserById(id) {\n      return deleteUserByIdInDatabase(id);\n  }\n\n}\n```\nPresenter\n```\ninterface IUserUserPresenter {\n\n  void deleteUser(event);\n\n}\n\nclass UserUserPresenter implements IUserPresenter {\n\n  // 保持对View的引用\n  IUserView view;\n  // 保持对Model的引用\n  IUserModel model;\n\n  UserUserPresenter(IUserView view, IUserModel model) {\n    this.view = view;    \n    this.model = model;\n\n    this.view.setPresenter(this);   \n  }\n\n  void start() {\n    // 从Model中取出数据\n    List<User> users = model.getUsers();\n    // 将数据发送给View，让其展示到用户界面\n    view.showUsers(users);\n  }\n\n  void deleteUser(event) {\n    // View将用户操作路由过来，由Presenter来处理\n    long uid = whichUserNeedToDeleteBy(event);\n    // 将用户操作翻译成命令或消息传递给model，以改变数据\n    boolean success = model.deleteUserById(uid);\n    // 将Model操作数据后的结果通知View来改变用户界面\n    if (success) {\n          view.onDeleteUserSuccess();\n    } else {\n        view.onDeleteUserFail();  \n    }\n  }\n}\n```\n\n二.MVVP\nMVVM是由三个核心部分，每个都有它自己的不同而独立的作用：\n\nModel - 包含业务和验证逻辑的数据模型\nView -- 定义结构,布局和View 在屏幕上的显示\nViewModel - 充当 View 和 ViewModel 之间的连接, 处理所有视图逻辑.\n","slug":"MVP与MVVM","published":1,"updated":"2017-02-19T12:16:04.332Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapg7000fjc2zktmfm8bk","content":"<p>一.MVP<br>首先来看MVP各自负责什么：</p>\n<p>Model，负责定义数据（解决什么是数据）<br>Presenter, 负责在Model和View之间，从model里取出数据，格式化后在View上展示（解决如何把数据和用户界面放在一起）<br>View，用于展示数据（解决如何展示数据）</p>\n<p>很显然Presenter作为中间者，它是同时拥有View和Model的引用的.<br>而Model和View必须是完全隔离的，不允许两者之间互相通信。</p>\n<p>Model在三者中是独立性最高的，Model不应该拥有对View的引用，而且Model也不需要保存对Presenter的引用，对于Presenter而已，Model只需要提供接口，等着Presenter来调用时返回相应数据即可，这和经典MVC模式中是非常不同的，在MVC中Model在数据发送变化后，是需要发送广播来告之View去更新用户界面的，而在MVP中，Model是不应该去通知View，而是通知Presenter来间接的更新View的。</p>\n<p>而Presenter和Model的关系也应该是基于接口来通信，这样才能把Model和Presenter的耦合度也降到最低，那么在需要改变Model内部实现，甚至彻底替换Model的时候，Presenter则是无需随之改变的。这样做带来的另一个好处就是你可以通过Mock一个Model来对Presenter以及View做模拟测试了，从而提高了可测试性。</p>\n<p>那么View和Presenter的关系呢？View是需要拥有对Presenter的引用，但仅仅是为了将用户的操作和事件立即传递给Presenter，为了让View和Presenter耦合较低，View也只应该通过接口与Presenter通信，从而保证View是完全被动的，一方面它由用户的操作触发来和Presenter通信，另一方面它完全受Presenter控制，唯一需要做的事情就是如何展示数据。</p>\n<p>简要总结三者之间的关系是：View和Model之间没有联系，View通过接口向Presenter来传递用户操作，Model不主动和Presenter联系，被动的等着Presenter来调用其接口，Presenter通过接口和View/Model来联系。</p>\n<p>谷歌官方给的![MVP例子]<a href=\"https://github.com/googlesamples/android-architecture\" target=\"_blank\" rel=\"external\">https://github.com/googlesamples/android-architecture</a></p>\n<p>为了便于理解，这里提供一些伪代码加注释演示一下如何实现MVP模式：</p>\n<p>View<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserView &#123;</div><div class=\"line\"></div><div class=\"line\">  void setPresenter(presenter);</div><div class=\"line\">  void showUsers(users);</div><div class=\"line\">  void showDeleteUserComplete();</div><div class=\"line\">  void showDeleteUserError();</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserView implements IUserView &#123;</div><div class=\"line\"></div><div class=\"line\">  UserPresenter presenter;</div><div class=\"line\"></div><div class=\"line\">  // 保持对Presenter的引用，用于路由用户操作</div><div class=\"line\">  void setPresenter(presenter) &#123;</div><div class=\"line\">      this.presenter = presenter;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 将Presenter传递来的数据展示出来</div><div class=\"line\">  void showUsers(users) &#123;</div><div class=\"line\">      draw(users);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // Model操作数据成功后，通过Presenter来告之View需要更新用户界面</div><div class=\"line\">  void showDeleteUserComplete() &#123;</div><div class=\"line\">      alert(&quot;Delete User Complete&quot;);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // Model操作数据失败后，也是通过Presenter来告之View需要更新用户界面</div><div class=\"line\">  void showDeleteUserError() &#123;</div><div class=\"line\">      alert(&quot;Delete User Fail&quot;);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 当用户点击某个按钮时，将用户操作路由给presenter，由presenter去处理</div><div class=\"line\">  void onDeleteButtonClicked(event) &#123;</div><div class=\"line\">      presenter.deleteUser(event);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Model<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserModel &#123;</div><div class=\"line\"></div><div class=\"line\">  List&lt;User&gt; getUsers();</div><div class=\"line\">  boolean deleteUserById();</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserModel implements IUserModel &#123;</div><div class=\"line\"></div><div class=\"line\">  // 在数据库里查找数据，并将数据返回给presenter</div><div class=\"line\">  List&lt;User&gt; getUsers() &#123;</div><div class=\"line\">       return getUsersInDatabase(id);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 在数据库里删除数据，并将结果返回给presenter</div><div class=\"line\">  User deleteUserById(id) &#123;</div><div class=\"line\">      return deleteUserByIdInDatabase(id);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Presenter<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserUserPresenter &#123;</div><div class=\"line\"></div><div class=\"line\">  void deleteUser(event);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserUserPresenter implements IUserPresenter &#123;</div><div class=\"line\"></div><div class=\"line\">  // 保持对View的引用</div><div class=\"line\">  IUserView view;</div><div class=\"line\">  // 保持对Model的引用</div><div class=\"line\">  IUserModel model;</div><div class=\"line\"></div><div class=\"line\">  UserUserPresenter(IUserView view, IUserModel model) &#123;</div><div class=\"line\">    this.view = view;    </div><div class=\"line\">    this.model = model;</div><div class=\"line\"></div><div class=\"line\">    this.view.setPresenter(this);   </div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  void start() &#123;</div><div class=\"line\">    // 从Model中取出数据</div><div class=\"line\">    List&lt;User&gt; users = model.getUsers();</div><div class=\"line\">    // 将数据发送给View，让其展示到用户界面</div><div class=\"line\">    view.showUsers(users);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  void deleteUser(event) &#123;</div><div class=\"line\">    // View将用户操作路由过来，由Presenter来处理</div><div class=\"line\">    long uid = whichUserNeedToDeleteBy(event);</div><div class=\"line\">    // 将用户操作翻译成命令或消息传递给model，以改变数据</div><div class=\"line\">    boolean success = model.deleteUserById(uid);</div><div class=\"line\">    // 将Model操作数据后的结果通知View来改变用户界面</div><div class=\"line\">    if (success) &#123;</div><div class=\"line\">          view.onDeleteUserSuccess();</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">        view.onDeleteUserFail();  </div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>二.MVVP<br>MVVM是由三个核心部分，每个都有它自己的不同而独立的作用：</p>\n<p>Model - 包含业务和验证逻辑的数据模型<br>View – 定义结构,布局和View 在屏幕上的显示<br>ViewModel - 充当 View 和 ViewModel 之间的连接, 处理所有视图逻辑.</p>\n","excerpt":"","more":"<p>一.MVP<br>首先来看MVP各自负责什么：</p>\n<p>Model，负责定义数据（解决什么是数据）<br>Presenter, 负责在Model和View之间，从model里取出数据，格式化后在View上展示（解决如何把数据和用户界面放在一起）<br>View，用于展示数据（解决如何展示数据）</p>\n<p>很显然Presenter作为中间者，它是同时拥有View和Model的引用的.<br>而Model和View必须是完全隔离的，不允许两者之间互相通信。</p>\n<p>Model在三者中是独立性最高的，Model不应该拥有对View的引用，而且Model也不需要保存对Presenter的引用，对于Presenter而已，Model只需要提供接口，等着Presenter来调用时返回相应数据即可，这和经典MVC模式中是非常不同的，在MVC中Model在数据发送变化后，是需要发送广播来告之View去更新用户界面的，而在MVP中，Model是不应该去通知View，而是通知Presenter来间接的更新View的。</p>\n<p>而Presenter和Model的关系也应该是基于接口来通信，这样才能把Model和Presenter的耦合度也降到最低，那么在需要改变Model内部实现，甚至彻底替换Model的时候，Presenter则是无需随之改变的。这样做带来的另一个好处就是你可以通过Mock一个Model来对Presenter以及View做模拟测试了，从而提高了可测试性。</p>\n<p>那么View和Presenter的关系呢？View是需要拥有对Presenter的引用，但仅仅是为了将用户的操作和事件立即传递给Presenter，为了让View和Presenter耦合较低，View也只应该通过接口与Presenter通信，从而保证View是完全被动的，一方面它由用户的操作触发来和Presenter通信，另一方面它完全受Presenter控制，唯一需要做的事情就是如何展示数据。</p>\n<p>简要总结三者之间的关系是：View和Model之间没有联系，View通过接口向Presenter来传递用户操作，Model不主动和Presenter联系，被动的等着Presenter来调用其接口，Presenter通过接口和View/Model来联系。</p>\n<p>谷歌官方给的![MVP例子]<a href=\"https://github.com/googlesamples/android-architecture\">https://github.com/googlesamples/android-architecture</a></p>\n<p>为了便于理解，这里提供一些伪代码加注释演示一下如何实现MVP模式：</p>\n<p>View<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserView &#123;</div><div class=\"line\"></div><div class=\"line\">  void setPresenter(presenter);</div><div class=\"line\">  void showUsers(users);</div><div class=\"line\">  void showDeleteUserComplete();</div><div class=\"line\">  void showDeleteUserError();</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserView implements IUserView &#123;</div><div class=\"line\"></div><div class=\"line\">  UserPresenter presenter;</div><div class=\"line\"></div><div class=\"line\">  // 保持对Presenter的引用，用于路由用户操作</div><div class=\"line\">  void setPresenter(presenter) &#123;</div><div class=\"line\">      this.presenter = presenter;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 将Presenter传递来的数据展示出来</div><div class=\"line\">  void showUsers(users) &#123;</div><div class=\"line\">      draw(users);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // Model操作数据成功后，通过Presenter来告之View需要更新用户界面</div><div class=\"line\">  void showDeleteUserComplete() &#123;</div><div class=\"line\">      alert(&quot;Delete User Complete&quot;);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // Model操作数据失败后，也是通过Presenter来告之View需要更新用户界面</div><div class=\"line\">  void showDeleteUserError() &#123;</div><div class=\"line\">      alert(&quot;Delete User Fail&quot;);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 当用户点击某个按钮时，将用户操作路由给presenter，由presenter去处理</div><div class=\"line\">  void onDeleteButtonClicked(event) &#123;</div><div class=\"line\">      presenter.deleteUser(event);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Model<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserModel &#123;</div><div class=\"line\"></div><div class=\"line\">  List&lt;User&gt; getUsers();</div><div class=\"line\">  boolean deleteUserById();</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserModel implements IUserModel &#123;</div><div class=\"line\"></div><div class=\"line\">  // 在数据库里查找数据，并将数据返回给presenter</div><div class=\"line\">  List&lt;User&gt; getUsers() &#123;</div><div class=\"line\">       return getUsersInDatabase(id);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  // 在数据库里删除数据，并将结果返回给presenter</div><div class=\"line\">  User deleteUserById(id) &#123;</div><div class=\"line\">      return deleteUserByIdInDatabase(id);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Presenter<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\">interface IUserUserPresenter &#123;</div><div class=\"line\"></div><div class=\"line\">  void deleteUser(event);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">class UserUserPresenter implements IUserPresenter &#123;</div><div class=\"line\"></div><div class=\"line\">  // 保持对View的引用</div><div class=\"line\">  IUserView view;</div><div class=\"line\">  // 保持对Model的引用</div><div class=\"line\">  IUserModel model;</div><div class=\"line\"></div><div class=\"line\">  UserUserPresenter(IUserView view, IUserModel model) &#123;</div><div class=\"line\">    this.view = view;    </div><div class=\"line\">    this.model = model;</div><div class=\"line\"></div><div class=\"line\">    this.view.setPresenter(this);   </div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  void start() &#123;</div><div class=\"line\">    // 从Model中取出数据</div><div class=\"line\">    List&lt;User&gt; users = model.getUsers();</div><div class=\"line\">    // 将数据发送给View，让其展示到用户界面</div><div class=\"line\">    view.showUsers(users);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  void deleteUser(event) &#123;</div><div class=\"line\">    // View将用户操作路由过来，由Presenter来处理</div><div class=\"line\">    long uid = whichUserNeedToDeleteBy(event);</div><div class=\"line\">    // 将用户操作翻译成命令或消息传递给model，以改变数据</div><div class=\"line\">    boolean success = model.deleteUserById(uid);</div><div class=\"line\">    // 将Model操作数据后的结果通知View来改变用户界面</div><div class=\"line\">    if (success) &#123;</div><div class=\"line\">          view.onDeleteUserSuccess();</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">        view.onDeleteUserFail();  </div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>二.MVVP<br>MVVM是由三个核心部分，每个都有它自己的不同而独立的作用：</p>\n<p>Model - 包含业务和验证逻辑的数据模型<br>View – 定义结构,布局和View 在屏幕上的显示<br>ViewModel - 充当 View 和 ViewModel 之间的连接, 处理所有视图逻辑.</p>\n"},{"title":"Markdown的初级使用","date":"2016-02-16T12:03:33.000Z","_content":"Markdown的初级使用\n```\n1.添加代码段\n  ` : 单行代码(分别放在首尾)\n  ``` : 多行代码，置于这段代码的首行和末行。\n\n2.添加链接\n  使用 [显示文本](链接地址)\n  如 : [Blog](https://andwong.github.io)\n\n4.添加图片\n  使用 ![](图片链接地址)\n  如:![](http://upload-images.jianshu.io/upload_images/259-0ad0d0bfc1c608b6.jpg)\n\n5.引用某段话\n  使用 : >\n  ```\n\n原文链接：http://www.jianshu.com/p/q81RER\n","source":"_posts/Markdown的初级使用.md","raw":"---\ntitle: Markdown的初级使用\ndate: 2016-02-16 20:03:33\ntags: tools\n---\nMarkdown的初级使用\n```\n1.添加代码段\n  ` : 单行代码(分别放在首尾)\n  ``` : 多行代码，置于这段代码的首行和末行。\n\n2.添加链接\n  使用 [显示文本](链接地址)\n  如 : [Blog](https://andwong.github.io)\n\n4.添加图片\n  使用 ![](图片链接地址)\n  如:![](http://upload-images.jianshu.io/upload_images/259-0ad0d0bfc1c608b6.jpg)\n\n5.引用某段话\n  使用 : >\n  ```\n\n原文链接：http://www.jianshu.com/p/q81RER\n","slug":"Markdown的初级使用","published":1,"updated":"2017-02-17T12:15:29.001Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapgc000ijc2zw967i19p","content":"<p>Markdown的初级使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.添加代码段</div><div class=\"line\">  ` : 单行代码(分别放在首尾)</div><div class=\"line\">  ``` : 多行代码，置于这段代码的首行和末行。</div><div class=\"line\"></div><div class=\"line\">2.添加链接</div><div class=\"line\">  使用 [显示文本](链接地址)</div><div class=\"line\">  如 : [Blog](https://andwong.github.io)</div><div class=\"line\"></div><div class=\"line\">4.添加图片</div><div class=\"line\">  使用 ![](图片链接地址)</div><div class=\"line\">  如:![](http://upload-images.jianshu.io/upload_images/259-0ad0d0bfc1c608b6.jpg)</div><div class=\"line\"></div><div class=\"line\">5.引用某段话</div><div class=\"line\">  使用 : &gt;</div></pre></td></tr></table></figure></p>\n<p>原文链接：<a href=\"http://www.jianshu.com/p/q81RER\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/q81RER</a></p>\n","excerpt":"","more":"<p>Markdown的初级使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.添加代码段</div><div class=\"line\">  ` : 单行代码(分别放在首尾)</div><div class=\"line\">  ``` : 多行代码，置于这段代码的首行和末行。</div><div class=\"line\"></div><div class=\"line\">2.添加链接</div><div class=\"line\">  使用 [显示文本](链接地址)</div><div class=\"line\">  如 : [Blog](https://andwong.github.io)</div><div class=\"line\"></div><div class=\"line\">4.添加图片</div><div class=\"line\">  使用 ![](图片链接地址)</div><div class=\"line\">  如:![](http://upload-images.jianshu.io/upload_images/259-0ad0d0bfc1c608b6.jpg)</div><div class=\"line\"></div><div class=\"line\">5.引用某段话</div><div class=\"line\">  使用 : &gt;</div></pre></td></tr></table></figure></p>\n<p>原文链接：<a href=\"http://www.jianshu.com/p/q81RER\">http://www.jianshu.com/p/q81RER</a></p>\n"},{"title":"WebView 获取网页源码","date":"2016-02-10T11:59:27.000Z","_content":"Android在WebView中获取网页源码  \n\n在Api-19以上获取源码的方式有修改，如下：\n```\n  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {\n    mWebView.evaluateJavascript(\n            \"(function() {return ('<html>'+document.getElementsByTagName('html')[0].innerHTML+'</html>');})();\",\n              new ValueCallback<String>() {\n                @Override\n                public void onReceiveValue(String html) {\n                    Log.d(\"HTML\", \"whd >>html:\" + html);\n                }\n            });\n  }\n```\n在Api-19以下获取源码的方式，如下：          \n1. 使能javascript：\n```\nwebView.getSettings().setJavaScriptEnabled(true);\n```\n2. 编写本地接口\n```\nfinal class InJavaScriptLocalObj {\n    public void showSource(String html) {\n        Log.d(\"HTML\", html);\n    }\n}\n```\n3. 向网页暴露本地接口\n```\nwebView.addJavascriptInterface(new InJavaScriptLocalObj(), \"local_obj\");\n```\n4. 编写自己的WebViewClient，并在onPageFinished中提取网页源码。\n```\nfinal class MyWebViewClient extends WebViewClient{   \n    public boolean shouldOverrideUrlLoading(WebView view, String url) {    \n        view.loadUrl(url);    \n        return true;    \n    }   \n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        Log.d(\"WebView\",\"onPageStarted\"); window.imagelistner.getImage(this.src)\n        super.onPageStarted(view, url, favicon);\n    }     \n    public void onPageFinished(WebView view, String url) {\n        Log.d(\"WebView\",\"onPageFinished \");\n        view.loadUrl(\"javascript:window.local_obj.showSource('<head>'+\" +\n                \"document.getElementsByTagName('html')[0].innerHTML+'</head>');\");\n        super.onPageFinished(view, url);\n    }\n}\n```\n关键之处在于：\n```\nview.loadUrl(\"javascript:window.local_obj.showSource('<head>'+document.getElementsByTagName('html')[0].innerHTML+'</head>');\");\n```\n运行，可以看到在showSource(String html)中打印了网页源码。\n","source":"_posts/WebView-获取网页源码.md","raw":"---\ntitle: WebView 获取网页源码\ndate: 2016-02-10 19:59:27\ntags: Android\n---\nAndroid在WebView中获取网页源码  \n\n在Api-19以上获取源码的方式有修改，如下：\n```\n  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {\n    mWebView.evaluateJavascript(\n            \"(function() {return ('<html>'+document.getElementsByTagName('html')[0].innerHTML+'</html>');})();\",\n              new ValueCallback<String>() {\n                @Override\n                public void onReceiveValue(String html) {\n                    Log.d(\"HTML\", \"whd >>html:\" + html);\n                }\n            });\n  }\n```\n在Api-19以下获取源码的方式，如下：          \n1. 使能javascript：\n```\nwebView.getSettings().setJavaScriptEnabled(true);\n```\n2. 编写本地接口\n```\nfinal class InJavaScriptLocalObj {\n    public void showSource(String html) {\n        Log.d(\"HTML\", html);\n    }\n}\n```\n3. 向网页暴露本地接口\n```\nwebView.addJavascriptInterface(new InJavaScriptLocalObj(), \"local_obj\");\n```\n4. 编写自己的WebViewClient，并在onPageFinished中提取网页源码。\n```\nfinal class MyWebViewClient extends WebViewClient{   \n    public boolean shouldOverrideUrlLoading(WebView view, String url) {    \n        view.loadUrl(url);    \n        return true;    \n    }   \n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        Log.d(\"WebView\",\"onPageStarted\"); window.imagelistner.getImage(this.src)\n        super.onPageStarted(view, url, favicon);\n    }     \n    public void onPageFinished(WebView view, String url) {\n        Log.d(\"WebView\",\"onPageFinished \");\n        view.loadUrl(\"javascript:window.local_obj.showSource('<head>'+\" +\n                \"document.getElementsByTagName('html')[0].innerHTML+'</head>');\");\n        super.onPageFinished(view, url);\n    }\n}\n```\n关键之处在于：\n```\nview.loadUrl(\"javascript:window.local_obj.showSource('<head>'+document.getElementsByTagName('html')[0].innerHTML+'</head>');\");\n```\n运行，可以看到在showSource(String html)中打印了网页源码。\n","slug":"WebView-获取网页源码","published":1,"updated":"2017-02-17T12:15:36.201Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapgg000kjc2zhfoh89lu","content":"<p>Android在WebView中获取网页源码  </p>\n<p>在Api-19以上获取源码的方式有修改，如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</div><div class=\"line\">  mWebView.evaluateJavascript(</div><div class=\"line\">          &quot;(function() &#123;return (&apos;&lt;html&gt;&apos;+document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/html&gt;&apos;);&#125;)();&quot;,</div><div class=\"line\">            new ValueCallback&lt;String&gt;() &#123;</div><div class=\"line\">              @Override</div><div class=\"line\">              public void onReceiveValue(String html) &#123;</div><div class=\"line\">                  Log.d(&quot;HTML&quot;, &quot;whd &gt;&gt;html:&quot; + html);</div><div class=\"line\">              &#125;</div><div class=\"line\">          &#125;);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>在Api-19以下获取源码的方式，如下：          </p>\n<ol>\n<li><p>使能javascript：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">webView.getSettings().setJavaScriptEnabled(true);</div></pre></td></tr></table></figure>\n</li>\n<li><p>编写本地接口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class InJavaScriptLocalObj &#123;</div><div class=\"line\">    public void showSource(String html) &#123;</div><div class=\"line\">        Log.d(&quot;HTML&quot;, html);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>向网页暴露本地接口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">webView.addJavascriptInterface(new InJavaScriptLocalObj(), &quot;local_obj&quot;);</div></pre></td></tr></table></figure>\n</li>\n<li><p>编写自己的WebViewClient，并在onPageFinished中提取网页源码。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class MyWebViewClient extends WebViewClient&#123;   </div><div class=\"line\">    public boolean shouldOverrideUrlLoading(WebView view, String url) &#123;    </div><div class=\"line\">        view.loadUrl(url);    </div><div class=\"line\">        return true;    </div><div class=\"line\">    &#125;   </div><div class=\"line\">    public void onPageStarted(WebView view, String url, Bitmap favicon) &#123;</div><div class=\"line\">        Log.d(&quot;WebView&quot;,&quot;onPageStarted&quot;); window.imagelistner.getImage(this.src)</div><div class=\"line\">        super.onPageStarted(view, url, favicon);</div><div class=\"line\">    &#125;     </div><div class=\"line\">    public void onPageFinished(WebView view, String url) &#123;</div><div class=\"line\">        Log.d(&quot;WebView&quot;,&quot;onPageFinished &quot;);</div><div class=\"line\">        view.loadUrl(&quot;javascript:window.local_obj.showSource(&apos;&lt;head&gt;&apos;+&quot; +</div><div class=\"line\">                &quot;document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/head&gt;&apos;);&quot;);</div><div class=\"line\">        super.onPageFinished(view, url);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>关键之处在于：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">view.loadUrl(&quot;javascript:window.local_obj.showSource(&apos;&lt;head&gt;&apos;+document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/head&gt;&apos;);&quot;);</div></pre></td></tr></table></figure></p>\n<p>运行，可以看到在showSource(String html)中打印了网页源码。</p>\n","excerpt":"","more":"<p>Android在WebView中获取网页源码  </p>\n<p>在Api-19以上获取源码的方式有修改，如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</div><div class=\"line\">  mWebView.evaluateJavascript(</div><div class=\"line\">          &quot;(function() &#123;return (&apos;&lt;html&gt;&apos;+document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/html&gt;&apos;);&#125;)();&quot;,</div><div class=\"line\">            new ValueCallback&lt;String&gt;() &#123;</div><div class=\"line\">              @Override</div><div class=\"line\">              public void onReceiveValue(String html) &#123;</div><div class=\"line\">                  Log.d(&quot;HTML&quot;, &quot;whd &gt;&gt;html:&quot; + html);</div><div class=\"line\">              &#125;</div><div class=\"line\">          &#125;);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>在Api-19以下获取源码的方式，如下：          </p>\n<ol>\n<li><p>使能javascript：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">webView.getSettings().setJavaScriptEnabled(true);</div></pre></td></tr></table></figure>\n</li>\n<li><p>编写本地接口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class InJavaScriptLocalObj &#123;</div><div class=\"line\">    public void showSource(String html) &#123;</div><div class=\"line\">        Log.d(&quot;HTML&quot;, html);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>向网页暴露本地接口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">webView.addJavascriptInterface(new InJavaScriptLocalObj(), &quot;local_obj&quot;);</div></pre></td></tr></table></figure>\n</li>\n<li><p>编写自己的WebViewClient，并在onPageFinished中提取网页源码。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class MyWebViewClient extends WebViewClient&#123;   </div><div class=\"line\">    public boolean shouldOverrideUrlLoading(WebView view, String url) &#123;    </div><div class=\"line\">        view.loadUrl(url);    </div><div class=\"line\">        return true;    </div><div class=\"line\">    &#125;   </div><div class=\"line\">    public void onPageStarted(WebView view, String url, Bitmap favicon) &#123;</div><div class=\"line\">        Log.d(&quot;WebView&quot;,&quot;onPageStarted&quot;); window.imagelistner.getImage(this.src)</div><div class=\"line\">        super.onPageStarted(view, url, favicon);</div><div class=\"line\">    &#125;     </div><div class=\"line\">    public void onPageFinished(WebView view, String url) &#123;</div><div class=\"line\">        Log.d(&quot;WebView&quot;,&quot;onPageFinished &quot;);</div><div class=\"line\">        view.loadUrl(&quot;javascript:window.local_obj.showSource(&apos;&lt;head&gt;&apos;+&quot; +</div><div class=\"line\">                &quot;document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/head&gt;&apos;);&quot;);</div><div class=\"line\">        super.onPageFinished(view, url);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>关键之处在于：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">view.loadUrl(&quot;javascript:window.local_obj.showSource(&apos;&lt;head&gt;&apos;+document.getElementsByTagName(&apos;html&apos;)[0].innerHTML+&apos;&lt;/head&gt;&apos;);&quot;);</div></pre></td></tr></table></figure></p>\n<p>运行，可以看到在showSource(String html)中打印了网页源码。</p>\n"},{"title":"WiFi Portal检测","date":"2016-04-11T13:35:53.000Z","_content":"WiFi连接上一个开放热点，如何判断是否需要登录认证？\n\n首先当我们发送一个request请求时，我们得到的response总是会携带一个HTTP状态码（除非请求超时）。WiFi portal同样也要遵循这样的规则，WiFi portal拦截网络请求时，返回给我们一个response（内容是登陆页面）。我们的这次请求虽然被拦截了，但是无疑他是一个成功的请求，也就是说response携带的状态码应该是 200 。这时，我们与服务器端商定一个请求链接http ://www.xx.com/genera_204，固定返回一个状态码 204。当网络状态发生变化时候，我们就去请求这个链接。如果我们的response携带的状态码是204说明我们请求成功，如果我们得到的是200，说明需要进行WiFi 验证。\n这个方法来自Android4.0.1AOSP源码 WifiWatchdogStateMachine#isWalledGardenConnection()。\n\n对于个人开发者或者“小厂商”不建议在我们自己的服务器上处理http ://www.xxx.com/generate_204，除非你家的服务器很稳定，基本上不出现问题。这时候我们可以考虑下“大厂商”是否已经有类似的功能。像UC啊什么的。他们都能自动提醒你网络需要登陆，他们也是使用了同样的方式，至于链接地址，就靠大家自己了。\n\n代码如下：\n```\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport android.os.AsyncTask;\n/**\n * 检测wifi是否需要登陆\n * 使用方式：\n * NetNeedLoginCheckUtil.needLoginNetworkCheck(new NeedLoginCallBack() {\n *  @Override\n *  public void needLogin(boolean needLogin) {\n *     if (needLogin) {\n *          wifi 需要登陆\n *     }\n *  }\n * });\n **/\n public class NetNeedLoginCheckUtil extends AsyncTask<Integer, Integer, Boolean>{\n    NeedLoginCallBack callBack;\n    public NetNeedLoginCheckUtil(NeedLoginCallBack callBack) {\n        super();\n        this.callBack = callBack;\n    }    \n    @Override\n    protected Boolean doInBackground(Integer... params) {\n        return isWifiSetPortal();\n    }    \n    @Override\n    protected void onPostExecute(Boolean result) {\n        if (callBack != null) {\n            callBack.needLogin(result);\n        }\n    }\n    private boolean isWifiSetPortal() {  \n        final String mWalledGardenUrl = \"http://connect.rom.miui.com/generate_204\";  \n        final int WALLED_GARDEN_SOCKET_TIMEOUT_MS = 10000;  \n        HttpURLConnection urlConnection = null;  \n        try {  \n            URL url = new URL(mWalledGardenUrl);  \n            urlConnection = (HttpURLConnection) url.openConnection();  \n            urlConnection.setInstanceFollowRedirects(false);  \n            urlConnection.setConnectTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  \n            urlConnection.setReadTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  \n            urlConnection.setUseCaches(false);  \n            urlConnection.getInputStream();  \n            return urlConnection.getResponseCode() != 204;  \n        } catch (IOException e) {  \n            return false;  \n        } finally {  \n            if (urlConnection != null) {  \n                urlConnection.disconnect();  \n            }  \n        }  \n    }  \n\n    public static void needLoginNetworkCheck(NeedLoginCallBack callBack) {\n        new NetNeedLoginCheckUtil(callBack).execute();\n    }    \n\n    public interface NeedLoginCallBack{\n       void needLogin(boolean needLogin);\n    }\n}\n```\n\n文／李科吐温（简书作者）\n原文链接：http://www.jianshu.com/p/3187c677bca3\n著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。\n","source":"_posts/WiFi-Portal检测.md","raw":"---\ntitle: WiFi Portal检测\ndate: 2016-04-11 21:35:53\ntags: Android\n---\nWiFi连接上一个开放热点，如何判断是否需要登录认证？\n\n首先当我们发送一个request请求时，我们得到的response总是会携带一个HTTP状态码（除非请求超时）。WiFi portal同样也要遵循这样的规则，WiFi portal拦截网络请求时，返回给我们一个response（内容是登陆页面）。我们的这次请求虽然被拦截了，但是无疑他是一个成功的请求，也就是说response携带的状态码应该是 200 。这时，我们与服务器端商定一个请求链接http ://www.xx.com/genera_204，固定返回一个状态码 204。当网络状态发生变化时候，我们就去请求这个链接。如果我们的response携带的状态码是204说明我们请求成功，如果我们得到的是200，说明需要进行WiFi 验证。\n这个方法来自Android4.0.1AOSP源码 WifiWatchdogStateMachine#isWalledGardenConnection()。\n\n对于个人开发者或者“小厂商”不建议在我们自己的服务器上处理http ://www.xxx.com/generate_204，除非你家的服务器很稳定，基本上不出现问题。这时候我们可以考虑下“大厂商”是否已经有类似的功能。像UC啊什么的。他们都能自动提醒你网络需要登陆，他们也是使用了同样的方式，至于链接地址，就靠大家自己了。\n\n代码如下：\n```\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport android.os.AsyncTask;\n/**\n * 检测wifi是否需要登陆\n * 使用方式：\n * NetNeedLoginCheckUtil.needLoginNetworkCheck(new NeedLoginCallBack() {\n *  @Override\n *  public void needLogin(boolean needLogin) {\n *     if (needLogin) {\n *          wifi 需要登陆\n *     }\n *  }\n * });\n **/\n public class NetNeedLoginCheckUtil extends AsyncTask<Integer, Integer, Boolean>{\n    NeedLoginCallBack callBack;\n    public NetNeedLoginCheckUtil(NeedLoginCallBack callBack) {\n        super();\n        this.callBack = callBack;\n    }    \n    @Override\n    protected Boolean doInBackground(Integer... params) {\n        return isWifiSetPortal();\n    }    \n    @Override\n    protected void onPostExecute(Boolean result) {\n        if (callBack != null) {\n            callBack.needLogin(result);\n        }\n    }\n    private boolean isWifiSetPortal() {  \n        final String mWalledGardenUrl = \"http://connect.rom.miui.com/generate_204\";  \n        final int WALLED_GARDEN_SOCKET_TIMEOUT_MS = 10000;  \n        HttpURLConnection urlConnection = null;  \n        try {  \n            URL url = new URL(mWalledGardenUrl);  \n            urlConnection = (HttpURLConnection) url.openConnection();  \n            urlConnection.setInstanceFollowRedirects(false);  \n            urlConnection.setConnectTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  \n            urlConnection.setReadTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  \n            urlConnection.setUseCaches(false);  \n            urlConnection.getInputStream();  \n            return urlConnection.getResponseCode() != 204;  \n        } catch (IOException e) {  \n            return false;  \n        } finally {  \n            if (urlConnection != null) {  \n                urlConnection.disconnect();  \n            }  \n        }  \n    }  \n\n    public static void needLoginNetworkCheck(NeedLoginCallBack callBack) {\n        new NetNeedLoginCheckUtil(callBack).execute();\n    }    \n\n    public interface NeedLoginCallBack{\n       void needLogin(boolean needLogin);\n    }\n}\n```\n\n文／李科吐温（简书作者）\n原文链接：http://www.jianshu.com/p/3187c677bca3\n著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。\n","slug":"WiFi-Portal检测","published":1,"updated":"2017-02-17T12:15:45.485Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapgl000mjc2zkk5r4f1b","content":"<p>WiFi连接上一个开放热点，如何判断是否需要登录认证？</p>\n<p>首先当我们发送一个request请求时，我们得到的response总是会携带一个HTTP状态码（除非请求超时）。WiFi portal同样也要遵循这样的规则，WiFi portal拦截网络请求时，返回给我们一个response（内容是登陆页面）。我们的这次请求虽然被拦截了，但是无疑他是一个成功的请求，也就是说response携带的状态码应该是 200 。这时，我们与服务器端商定一个请求链接http ://www.xx.com/genera_204，固定返回一个状态码 204。当网络状态发生变化时候，我们就去请求这个链接。如果我们的response携带的状态码是204说明我们请求成功，如果我们得到的是200，说明需要进行WiFi 验证。<br>这个方法来自Android4.0.1AOSP源码 WifiWatchdogStateMachine#isWalledGardenConnection()。</p>\n<p>对于个人开发者或者“小厂商”不建议在我们自己的服务器上处理http ://www.xxx.com/generate_204，除非你家的服务器很稳定，基本上不出现问题。这时候我们可以考虑下“大厂商”是否已经有类似的功能。像UC啊什么的。他们都能自动提醒你网络需要登陆，他们也是使用了同样的方式，至于链接地址，就靠大家自己了。</p>\n<p>代码如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\">import java.io.IOException;</div><div class=\"line\">import java.net.HttpURLConnection;</div><div class=\"line\">import java.net.URL;</div><div class=\"line\">import android.os.AsyncTask;</div><div class=\"line\">/**</div><div class=\"line\"> * 检测wifi是否需要登陆</div><div class=\"line\"> * 使用方式：</div><div class=\"line\"> * NetNeedLoginCheckUtil.needLoginNetworkCheck(new NeedLoginCallBack() &#123;</div><div class=\"line\"> *  @Override</div><div class=\"line\"> *  public void needLogin(boolean needLogin) &#123;</div><div class=\"line\"> *     if (needLogin) &#123;</div><div class=\"line\"> *          wifi 需要登陆</div><div class=\"line\"> *     &#125;</div><div class=\"line\"> *  &#125;</div><div class=\"line\"> * &#125;);</div><div class=\"line\"> **/</div><div class=\"line\"> public class NetNeedLoginCheckUtil extends AsyncTask&lt;Integer, Integer, Boolean&gt;&#123;</div><div class=\"line\">    NeedLoginCallBack callBack;</div><div class=\"line\">    public NetNeedLoginCheckUtil(NeedLoginCallBack callBack) &#123;</div><div class=\"line\">        super();</div><div class=\"line\">        this.callBack = callBack;</div><div class=\"line\">    &#125;    </div><div class=\"line\">    @Override</div><div class=\"line\">    protected Boolean doInBackground(Integer... params) &#123;</div><div class=\"line\">        return isWifiSetPortal();</div><div class=\"line\">    &#125;    </div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onPostExecute(Boolean result) &#123;</div><div class=\"line\">        if (callBack != null) &#123;</div><div class=\"line\">            callBack.needLogin(result);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    private boolean isWifiSetPortal() &#123;  </div><div class=\"line\">        final String mWalledGardenUrl = &quot;http://connect.rom.miui.com/generate_204&quot;;  </div><div class=\"line\">        final int WALLED_GARDEN_SOCKET_TIMEOUT_MS = 10000;  </div><div class=\"line\">        HttpURLConnection urlConnection = null;  </div><div class=\"line\">        try &#123;  </div><div class=\"line\">            URL url = new URL(mWalledGardenUrl);  </div><div class=\"line\">            urlConnection = (HttpURLConnection) url.openConnection();  </div><div class=\"line\">            urlConnection.setInstanceFollowRedirects(false);  </div><div class=\"line\">            urlConnection.setConnectTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  </div><div class=\"line\">            urlConnection.setReadTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  </div><div class=\"line\">            urlConnection.setUseCaches(false);  </div><div class=\"line\">            urlConnection.getInputStream();  </div><div class=\"line\">            return urlConnection.getResponseCode() != 204;  </div><div class=\"line\">        &#125; catch (IOException e) &#123;  </div><div class=\"line\">            return false;  </div><div class=\"line\">        &#125; finally &#123;  </div><div class=\"line\">            if (urlConnection != null) &#123;  </div><div class=\"line\">                urlConnection.disconnect();  </div><div class=\"line\">            &#125;  </div><div class=\"line\">        &#125;  </div><div class=\"line\">    &#125;  </div><div class=\"line\"></div><div class=\"line\">    public static void needLoginNetworkCheck(NeedLoginCallBack callBack) &#123;</div><div class=\"line\">        new NetNeedLoginCheckUtil(callBack).execute();</div><div class=\"line\">    &#125;    </div><div class=\"line\"></div><div class=\"line\">    public interface NeedLoginCallBack&#123;</div><div class=\"line\">       void needLogin(boolean needLogin);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>文／李科吐温（简书作者）<br>原文链接：<a href=\"http://www.jianshu.com/p/3187c677bca3\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/3187c677bca3</a><br>著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。</p>\n","excerpt":"","more":"<p>WiFi连接上一个开放热点，如何判断是否需要登录认证？</p>\n<p>首先当我们发送一个request请求时，我们得到的response总是会携带一个HTTP状态码（除非请求超时）。WiFi portal同样也要遵循这样的规则，WiFi portal拦截网络请求时，返回给我们一个response（内容是登陆页面）。我们的这次请求虽然被拦截了，但是无疑他是一个成功的请求，也就是说response携带的状态码应该是 200 。这时，我们与服务器端商定一个请求链接http ://www.xx.com/genera_204，固定返回一个状态码 204。当网络状态发生变化时候，我们就去请求这个链接。如果我们的response携带的状态码是204说明我们请求成功，如果我们得到的是200，说明需要进行WiFi 验证。<br>这个方法来自Android4.0.1AOSP源码 WifiWatchdogStateMachine#isWalledGardenConnection()。</p>\n<p>对于个人开发者或者“小厂商”不建议在我们自己的服务器上处理http ://www.xxx.com/generate_204，除非你家的服务器很稳定，基本上不出现问题。这时候我们可以考虑下“大厂商”是否已经有类似的功能。像UC啊什么的。他们都能自动提醒你网络需要登陆，他们也是使用了同样的方式，至于链接地址，就靠大家自己了。</p>\n<p>代码如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\">import java.io.IOException;</div><div class=\"line\">import java.net.HttpURLConnection;</div><div class=\"line\">import java.net.URL;</div><div class=\"line\">import android.os.AsyncTask;</div><div class=\"line\">/**</div><div class=\"line\"> * 检测wifi是否需要登陆</div><div class=\"line\"> * 使用方式：</div><div class=\"line\"> * NetNeedLoginCheckUtil.needLoginNetworkCheck(new NeedLoginCallBack() &#123;</div><div class=\"line\"> *  @Override</div><div class=\"line\"> *  public void needLogin(boolean needLogin) &#123;</div><div class=\"line\"> *     if (needLogin) &#123;</div><div class=\"line\"> *          wifi 需要登陆</div><div class=\"line\"> *     &#125;</div><div class=\"line\"> *  &#125;</div><div class=\"line\"> * &#125;);</div><div class=\"line\"> **/</div><div class=\"line\"> public class NetNeedLoginCheckUtil extends AsyncTask&lt;Integer, Integer, Boolean&gt;&#123;</div><div class=\"line\">    NeedLoginCallBack callBack;</div><div class=\"line\">    public NetNeedLoginCheckUtil(NeedLoginCallBack callBack) &#123;</div><div class=\"line\">        super();</div><div class=\"line\">        this.callBack = callBack;</div><div class=\"line\">    &#125;    </div><div class=\"line\">    @Override</div><div class=\"line\">    protected Boolean doInBackground(Integer... params) &#123;</div><div class=\"line\">        return isWifiSetPortal();</div><div class=\"line\">    &#125;    </div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onPostExecute(Boolean result) &#123;</div><div class=\"line\">        if (callBack != null) &#123;</div><div class=\"line\">            callBack.needLogin(result);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    private boolean isWifiSetPortal() &#123;  </div><div class=\"line\">        final String mWalledGardenUrl = &quot;http://connect.rom.miui.com/generate_204&quot;;  </div><div class=\"line\">        final int WALLED_GARDEN_SOCKET_TIMEOUT_MS = 10000;  </div><div class=\"line\">        HttpURLConnection urlConnection = null;  </div><div class=\"line\">        try &#123;  </div><div class=\"line\">            URL url = new URL(mWalledGardenUrl);  </div><div class=\"line\">            urlConnection = (HttpURLConnection) url.openConnection();  </div><div class=\"line\">            urlConnection.setInstanceFollowRedirects(false);  </div><div class=\"line\">            urlConnection.setConnectTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  </div><div class=\"line\">            urlConnection.setReadTimeout(WALLED_GARDEN_SOCKET_TIMEOUT_MS);  </div><div class=\"line\">            urlConnection.setUseCaches(false);  </div><div class=\"line\">            urlConnection.getInputStream();  </div><div class=\"line\">            return urlConnection.getResponseCode() != 204;  </div><div class=\"line\">        &#125; catch (IOException e) &#123;  </div><div class=\"line\">            return false;  </div><div class=\"line\">        &#125; finally &#123;  </div><div class=\"line\">            if (urlConnection != null) &#123;  </div><div class=\"line\">                urlConnection.disconnect();  </div><div class=\"line\">            &#125;  </div><div class=\"line\">        &#125;  </div><div class=\"line\">    &#125;  </div><div class=\"line\"></div><div class=\"line\">    public static void needLoginNetworkCheck(NeedLoginCallBack callBack) &#123;</div><div class=\"line\">        new NetNeedLoginCheckUtil(callBack).execute();</div><div class=\"line\">    &#125;    </div><div class=\"line\"></div><div class=\"line\">    public interface NeedLoginCallBack&#123;</div><div class=\"line\">       void needLogin(boolean needLogin);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>文／李科吐温（简书作者）<br>原文链接：<a href=\"http://www.jianshu.com/p/3187c677bca3\">http://www.jianshu.com/p/3187c677bca3</a><br>著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。</p>\n"},{"title":"Ubuntu下使用Hexo创建Gitbub博客","date":"2016-01-05T06:06:55.000Z","_content":"1.环境配置\n```\n安装 node.js : $sudo apt install nodejs-legacy\n安装 npm ： $sudo apt install npm\n安装 git : $sudo apt-get install git\n安装 hexo ： $sudo npm install hexo -g\n```\n\n2.注册github帐号，并创建仓库（注意仓库必须以 “用户名.github.io”）\n\n3.初始化博客，命令行输入下列命令：\n```\n$git init\n$git remote add origin \"git url\"\n$git pull origin master\n\n$hexo init\n$hexo s -g #预览\n```\n\n编辑根目录下的_config.yml 末尾添加下列代码:\n```\n  deploy:\n  type: git\n  repository: https://github.com/AndWong/AndWong.github.io.git\n  branch: master\n  ```\n```\n$npm install hexo-deployer-git --save\n$hexo clean\n$hexo d -g #发布\n```\n\n4.访问 https://andwong.github.io/ #查看\n\n「疑问 : 换台电脑后如何发布博客?」\n上述步骤执行完后master主支就有相应的内容,\n此时新建一个分支blog用于存放博客内容,\n新设备只需pull blog分支修改博客并push就行.\n如果$hexo d -g 失败可以尝试删除根目录下的.deploy_git目录再执行$hexo d -g\n\n————–分割线————\n在_config.yml中修改:\ntitle: Wong Blog #修改页面标题\nauthor: Wong #修改作者\ntheme: hexo-theme-aiki #修改主题样式\n","source":"_posts/gitbub-blog.md","raw":"---\ntitle: Ubuntu下使用Hexo创建Gitbub博客\ndate: 2016-01-05 14:06:55\ntags: github\n---\n1.环境配置\n```\n安装 node.js : $sudo apt install nodejs-legacy\n安装 npm ： $sudo apt install npm\n安装 git : $sudo apt-get install git\n安装 hexo ： $sudo npm install hexo -g\n```\n\n2.注册github帐号，并创建仓库（注意仓库必须以 “用户名.github.io”）\n\n3.初始化博客，命令行输入下列命令：\n```\n$git init\n$git remote add origin \"git url\"\n$git pull origin master\n\n$hexo init\n$hexo s -g #预览\n```\n\n编辑根目录下的_config.yml 末尾添加下列代码:\n```\n  deploy:\n  type: git\n  repository: https://github.com/AndWong/AndWong.github.io.git\n  branch: master\n  ```\n```\n$npm install hexo-deployer-git --save\n$hexo clean\n$hexo d -g #发布\n```\n\n4.访问 https://andwong.github.io/ #查看\n\n「疑问 : 换台电脑后如何发布博客?」\n上述步骤执行完后master主支就有相应的内容,\n此时新建一个分支blog用于存放博客内容,\n新设备只需pull blog分支修改博客并push就行.\n如果$hexo d -g 失败可以尝试删除根目录下的.deploy_git目录再执行$hexo d -g\n\n————–分割线————\n在_config.yml中修改:\ntitle: Wong Blog #修改页面标题\nauthor: Wong #修改作者\ntheme: hexo-theme-aiki #修改主题样式\n","slug":"gitbub-blog","published":1,"updated":"2017-02-17T12:15:20.906Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapgp000pjc2z5api6174","content":"<p>1.环境配置<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">安装 node.js : $sudo apt install nodejs-legacy</div><div class=\"line\">安装 npm ： $sudo apt install npm</div><div class=\"line\">安装 git : $sudo apt-get install git</div><div class=\"line\">安装 hexo ： $sudo npm install hexo -g</div></pre></td></tr></table></figure></p>\n<p>2.注册github帐号，并创建仓库（注意仓库必须以 “用户名.github.io”）</p>\n<p>3.初始化博客，命令行输入下列命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">$git init</div><div class=\"line\">$git remote add origin &quot;git url&quot;</div><div class=\"line\">$git pull origin master</div><div class=\"line\"></div><div class=\"line\">$hexo init</div><div class=\"line\">$hexo s -g #预览</div></pre></td></tr></table></figure></p>\n<p>编辑根目录下的_config.yml 末尾添加下列代码:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">deploy:</div><div class=\"line\">type: git</div><div class=\"line\">repository: https://github.com/AndWong/AndWong.github.io.git</div><div class=\"line\">branch: master</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$npm install hexo-deployer-git --save</div><div class=\"line\">$hexo clean</div><div class=\"line\">$hexo d -g #发布</div></pre></td></tr></table></figure>\n<p>4.访问 <a href=\"https://andwong.github.io/\" target=\"_blank\" rel=\"external\">https://andwong.github.io/</a> #查看</p>\n<p>「疑问 : 换台电脑后如何发布博客?」<br>上述步骤执行完后master主支就有相应的内容,<br>此时新建一个分支blog用于存放博客内容,<br>新设备只需pull blog分支修改博客并push就行.<br>如果$hexo d -g 失败可以尝试删除根目录下的.deploy_git目录再执行$hexo d -g</p>\n<p>————–分割线————<br>在_config.yml中修改:<br>title: Wong Blog #修改页面标题<br>author: Wong #修改作者<br>theme: hexo-theme-aiki #修改主题样式</p>\n","excerpt":"","more":"<p>1.环境配置<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">安装 node.js : $sudo apt install nodejs-legacy</div><div class=\"line\">安装 npm ： $sudo apt install npm</div><div class=\"line\">安装 git : $sudo apt-get install git</div><div class=\"line\">安装 hexo ： $sudo npm install hexo -g</div></pre></td></tr></table></figure></p>\n<p>2.注册github帐号，并创建仓库（注意仓库必须以 “用户名.github.io”）</p>\n<p>3.初始化博客，命令行输入下列命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">$git init</div><div class=\"line\">$git remote add origin &quot;git url&quot;</div><div class=\"line\">$git pull origin master</div><div class=\"line\"></div><div class=\"line\">$hexo init</div><div class=\"line\">$hexo s -g #预览</div></pre></td></tr></table></figure></p>\n<p>编辑根目录下的_config.yml 末尾添加下列代码:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">deploy:</div><div class=\"line\">type: git</div><div class=\"line\">repository: https://github.com/AndWong/AndWong.github.io.git</div><div class=\"line\">branch: master</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$npm install hexo-deployer-git --save</div><div class=\"line\">$hexo clean</div><div class=\"line\">$hexo d -g #发布</div></pre></td></tr></table></figure>\n<p>4.访问 <a href=\"https://andwong.github.io/\">https://andwong.github.io/</a> #查看</p>\n<p>「疑问 : 换台电脑后如何发布博客?」<br>上述步骤执行完后master主支就有相应的内容,<br>此时新建一个分支blog用于存放博客内容,<br>新设备只需pull blog分支修改博客并push就行.<br>如果$hexo d -g 失败可以尝试删除根目录下的.deploy_git目录再执行$hexo d -g</p>\n<p>————–分割线————<br>在_config.yml中修改:<br>title: Wong Blog #修改页面标题<br>author: Wong #修改作者<br>theme: hexo-theme-aiki #修改主题样式</p>\n"},{"title":"一套临时使用的图片压缩缓存上传方案","date":"2017-02-17T13:09:00.000Z","_content":"","source":"_posts/一套临时使用的图片压缩缓存上传方案.md","raw":"---\ntitle: 一套临时使用的图片压缩缓存上传方案\ndate: 2017-02-17 21:09:00\ntags:\n---\n","slug":"一套临时使用的图片压缩缓存上传方案","published":1,"updated":"2017-02-17T13:09:00.816Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapgy000rjc2zsqg19opq","content":"","excerpt":"","more":""},{"title":"四大组件之Activity","date":"2016-10-15T11:48:09.000Z","_content":"\nActivity乃Andoid四大组件中的一个，主要负责用户界面的展示和用户交互处理。\n\n1.生命周期\n正常的一次启动到结束 ：onCreate -> onStart -> onResume -> onPause -> onStop -> onDestory\n\n切换到后台 : onPause -> onStop\n从后台回来 : onRestart ->onStart -> onResume\n\n从A切到B ： A-onPause -> B-onCreate -> B-onStart -> B-onResume -> A-onStop\n从B返回A ： B-onPause -> A-onRestart -> A-onStart -> A-onResume -> B-onStop -> B-onDestroy\n\n横竖屏切换 ： onSaveInstanceState -> onPause -> onStop -> onDestory -> onCreate -> onStart -> onRestoreInstanceState -> onResume\n\n2.启动模式\n（在AndroidManifest.xml中的android:launchMode=\"singleTask\"配置）\n (1)standard : 默认的标准模式，每次启动Activity都会创建Activity并放人Task栈中\n (2)singleTop ：当要启动的Activity刚好在Task栈的栈顶时使用这个，否则重新创建一个\n (3)singleTask ： 只要Task栈中存在就使用，并把该Activity以上的其他Actitity弹出栈中\n (4)singleInstance ： 只要在该Activity存在Task栈中，如何应用启动都可以直接调用\n\n3.闪屏页的快速启动\n  通常闪屏页是一张产品的Logo图，所以可以通过为闪屏页设置theme，\n  让app启动时activity为展示时先显示theme中的背景图，\n  以此达到闪屏页的“快速启动”，否则闪屏页显示的app-theme中背景色。\n\n  1)在AndroidManifest中为闪屏页设置Theme：\n  ```\n  android:theme=\"@style/AppSplash\"\n  ```\n\n  2)AppSplash如下：\n  ```\n  <style name=\"AppSplash\">\n    <item name=\"android:windowBackground\">@drawable/layer_logo_page</item>\n  </style>\n  ```\n\n  3)layer_logo_page如下：\n  ```\n  <?xml version=\"1.0\" encoding=\"utf-8\"?>\n  <layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item>\n        <color android:color=\"@color/C15_white\" />\n    </item>\n    <item android:bottom=\"35dp\">\n        <bitmap\n            android:gravity=\"center_horizontal|bottom\"\n            android:src=\"@drawable/icon_logo\" />\n    </item>\n  </layer-list>\n  ```\n\n4.横竖屏\n  1)如何禁止横竖屏切换时生命周期变换\n  AndroidManifest中为Activity添加配置：\n```\n  android:configChanges=\"orientation|keyboardHidden|screenSize\"\n```\n  2)如何禁止横屏：\n  AndroidManifest中为Activity添加配置：\n```\n   android:screenOrientation=\"portrait\"\n```\n  3)Java代码中设置横竖屏：\n  // 如果是竖屏则转为横屏\n```\n  if (activity.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT) {\n    activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n  }\n```\n\n  4)横竖屏变换时通常会有回调：\n```\n  @Override\n  public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n  }\n```\n\n5.Activity设置为首页\n  为Activity配置如下代码：\n```\n  <intent-filter>\n    <action android:name=\"android.intent.action.MAIN\" />\n    <category android:name=\"android.intent.category.LAUNCHER\" />\n  </intent-filter>\n```\n6.启动Actitiy的几种方式\n","source":"_posts/四大组件之Activity.md","raw":"---\ntitle: 四大组件之Activity\ndate: 2016-10-15 19:48:09\ntags: 四大组件之Activity\n---\n\nActivity乃Andoid四大组件中的一个，主要负责用户界面的展示和用户交互处理。\n\n1.生命周期\n正常的一次启动到结束 ：onCreate -> onStart -> onResume -> onPause -> onStop -> onDestory\n\n切换到后台 : onPause -> onStop\n从后台回来 : onRestart ->onStart -> onResume\n\n从A切到B ： A-onPause -> B-onCreate -> B-onStart -> B-onResume -> A-onStop\n从B返回A ： B-onPause -> A-onRestart -> A-onStart -> A-onResume -> B-onStop -> B-onDestroy\n\n横竖屏切换 ： onSaveInstanceState -> onPause -> onStop -> onDestory -> onCreate -> onStart -> onRestoreInstanceState -> onResume\n\n2.启动模式\n（在AndroidManifest.xml中的android:launchMode=\"singleTask\"配置）\n (1)standard : 默认的标准模式，每次启动Activity都会创建Activity并放人Task栈中\n (2)singleTop ：当要启动的Activity刚好在Task栈的栈顶时使用这个，否则重新创建一个\n (3)singleTask ： 只要Task栈中存在就使用，并把该Activity以上的其他Actitity弹出栈中\n (4)singleInstance ： 只要在该Activity存在Task栈中，如何应用启动都可以直接调用\n\n3.闪屏页的快速启动\n  通常闪屏页是一张产品的Logo图，所以可以通过为闪屏页设置theme，\n  让app启动时activity为展示时先显示theme中的背景图，\n  以此达到闪屏页的“快速启动”，否则闪屏页显示的app-theme中背景色。\n\n  1)在AndroidManifest中为闪屏页设置Theme：\n  ```\n  android:theme=\"@style/AppSplash\"\n  ```\n\n  2)AppSplash如下：\n  ```\n  <style name=\"AppSplash\">\n    <item name=\"android:windowBackground\">@drawable/layer_logo_page</item>\n  </style>\n  ```\n\n  3)layer_logo_page如下：\n  ```\n  <?xml version=\"1.0\" encoding=\"utf-8\"?>\n  <layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item>\n        <color android:color=\"@color/C15_white\" />\n    </item>\n    <item android:bottom=\"35dp\">\n        <bitmap\n            android:gravity=\"center_horizontal|bottom\"\n            android:src=\"@drawable/icon_logo\" />\n    </item>\n  </layer-list>\n  ```\n\n4.横竖屏\n  1)如何禁止横竖屏切换时生命周期变换\n  AndroidManifest中为Activity添加配置：\n```\n  android:configChanges=\"orientation|keyboardHidden|screenSize\"\n```\n  2)如何禁止横屏：\n  AndroidManifest中为Activity添加配置：\n```\n   android:screenOrientation=\"portrait\"\n```\n  3)Java代码中设置横竖屏：\n  // 如果是竖屏则转为横屏\n```\n  if (activity.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT) {\n    activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n  }\n```\n\n  4)横竖屏变换时通常会有回调：\n```\n  @Override\n  public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n  }\n```\n\n5.Activity设置为首页\n  为Activity配置如下代码：\n```\n  <intent-filter>\n    <action android:name=\"android.intent.action.MAIN\" />\n    <category android:name=\"android.intent.category.LAUNCHER\" />\n  </intent-filter>\n```\n6.启动Actitiy的几种方式\n","slug":"四大组件之Activity","published":1,"updated":"2017-02-17T12:16:45.960Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnaph5000ujc2z6yuetmb7","content":"<p>Activity乃Andoid四大组件中的一个，主要负责用户界面的展示和用户交互处理。</p>\n<p>1.生命周期<br>正常的一次启动到结束 ：onCreate -&gt; onStart -&gt; onResume -&gt; onPause -&gt; onStop -&gt; onDestory</p>\n<p>切换到后台 : onPause -&gt; onStop<br>从后台回来 : onRestart -&gt;onStart -&gt; onResume</p>\n<p>从A切到B ： A-onPause -&gt; B-onCreate -&gt; B-onStart -&gt; B-onResume -&gt; A-onStop<br>从B返回A ： B-onPause -&gt; A-onRestart -&gt; A-onStart -&gt; A-onResume -&gt; B-onStop -&gt; B-onDestroy</p>\n<p>横竖屏切换 ： onSaveInstanceState -&gt; onPause -&gt; onStop -&gt; onDestory -&gt; onCreate -&gt; onStart -&gt; onRestoreInstanceState -&gt; onResume</p>\n<p>2.启动模式<br>（在AndroidManifest.xml中的android:launchMode=”singleTask”配置）<br> (1)standard : 默认的标准模式，每次启动Activity都会创建Activity并放人Task栈中<br> (2)singleTop ：当要启动的Activity刚好在Task栈的栈顶时使用这个，否则重新创建一个<br> (3)singleTask ： 只要Task栈中存在就使用，并把该Activity以上的其他Actitity弹出栈中<br> (4)singleInstance ： 只要在该Activity存在Task栈中，如何应用启动都可以直接调用</p>\n<p>3.闪屏页的快速启动<br>  通常闪屏页是一张产品的Logo图，所以可以通过为闪屏页设置theme，<br>  让app启动时activity为展示时先显示theme中的背景图，<br>  以此达到闪屏页的“快速启动”，否则闪屏页显示的app-theme中背景色。</p>\n<p>  1)在AndroidManifest中为闪屏页设置Theme：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:theme=&quot;@style/AppSplash&quot;</div></pre></td></tr></table></figure></p>\n<p>  2)AppSplash如下：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;style name=&quot;AppSplash&quot;&gt;</div><div class=\"line\">  &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/layer_logo_page&lt;/item&gt;</div><div class=\"line\">&lt;/style&gt;</div></pre></td></tr></table></figure></p>\n<p>  3)layer_logo_page如下：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">  &lt;item&gt;</div><div class=\"line\">      &lt;color android:color=&quot;@color/C15_white&quot; /&gt;</div><div class=\"line\">  &lt;/item&gt;</div><div class=\"line\">  &lt;item android:bottom=&quot;35dp&quot;&gt;</div><div class=\"line\">      &lt;bitmap</div><div class=\"line\">          android:gravity=&quot;center_horizontal|bottom&quot;</div><div class=\"line\">          android:src=&quot;@drawable/icon_logo&quot; /&gt;</div><div class=\"line\">  &lt;/item&gt;</div><div class=\"line\">&lt;/layer-list&gt;</div></pre></td></tr></table></figure></p>\n<p>4.横竖屏<br>  1)如何禁止横竖屏切换时生命周期变换<br>  AndroidManifest中为Activity添加配置：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;</div></pre></td></tr></table></figure></p>\n<p>  2)如何禁止横屏：<br>  AndroidManifest中为Activity添加配置：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:screenOrientation=&quot;portrait&quot;</div></pre></td></tr></table></figure></p>\n<p>  3)Java代码中设置横竖屏：<br>  // 如果是竖屏则转为横屏<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (activity.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT) &#123;</div><div class=\"line\">  activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>  4)横竖屏变换时通常会有回调：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onConfigurationChanged(Configuration newConfig) &#123;</div><div class=\"line\">  super.onConfigurationChanged(newConfig);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>5.Activity设置为首页<br>  为Activity配置如下代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;intent-filter&gt;</div><div class=\"line\">  &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;</div><div class=\"line\">  &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;</div><div class=\"line\">&lt;/intent-filter&gt;</div></pre></td></tr></table></figure></p>\n<p>6.启动Actitiy的几种方式</p>\n","excerpt":"","more":"<p>Activity乃Andoid四大组件中的一个，主要负责用户界面的展示和用户交互处理。</p>\n<p>1.生命周期<br>正常的一次启动到结束 ：onCreate -&gt; onStart -&gt; onResume -&gt; onPause -&gt; onStop -&gt; onDestory</p>\n<p>切换到后台 : onPause -&gt; onStop<br>从后台回来 : onRestart -&gt;onStart -&gt; onResume</p>\n<p>从A切到B ： A-onPause -&gt; B-onCreate -&gt; B-onStart -&gt; B-onResume -&gt; A-onStop<br>从B返回A ： B-onPause -&gt; A-onRestart -&gt; A-onStart -&gt; A-onResume -&gt; B-onStop -&gt; B-onDestroy</p>\n<p>横竖屏切换 ： onSaveInstanceState -&gt; onPause -&gt; onStop -&gt; onDestory -&gt; onCreate -&gt; onStart -&gt; onRestoreInstanceState -&gt; onResume</p>\n<p>2.启动模式<br>（在AndroidManifest.xml中的android:launchMode=”singleTask”配置）<br> (1)standard : 默认的标准模式，每次启动Activity都会创建Activity并放人Task栈中<br> (2)singleTop ：当要启动的Activity刚好在Task栈的栈顶时使用这个，否则重新创建一个<br> (3)singleTask ： 只要Task栈中存在就使用，并把该Activity以上的其他Actitity弹出栈中<br> (4)singleInstance ： 只要在该Activity存在Task栈中，如何应用启动都可以直接调用</p>\n<p>3.闪屏页的快速启动<br>  通常闪屏页是一张产品的Logo图，所以可以通过为闪屏页设置theme，<br>  让app启动时activity为展示时先显示theme中的背景图，<br>  以此达到闪屏页的“快速启动”，否则闪屏页显示的app-theme中背景色。</p>\n<p>  1)在AndroidManifest中为闪屏页设置Theme：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:theme=&quot;@style/AppSplash&quot;</div></pre></td></tr></table></figure></p>\n<p>  2)AppSplash如下：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;style name=&quot;AppSplash&quot;&gt;</div><div class=\"line\">  &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/layer_logo_page&lt;/item&gt;</div><div class=\"line\">&lt;/style&gt;</div></pre></td></tr></table></figure></p>\n<p>  3)layer_logo_page如下：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">  &lt;item&gt;</div><div class=\"line\">      &lt;color android:color=&quot;@color/C15_white&quot; /&gt;</div><div class=\"line\">  &lt;/item&gt;</div><div class=\"line\">  &lt;item android:bottom=&quot;35dp&quot;&gt;</div><div class=\"line\">      &lt;bitmap</div><div class=\"line\">          android:gravity=&quot;center_horizontal|bottom&quot;</div><div class=\"line\">          android:src=&quot;@drawable/icon_logo&quot; /&gt;</div><div class=\"line\">  &lt;/item&gt;</div><div class=\"line\">&lt;/layer-list&gt;</div></pre></td></tr></table></figure></p>\n<p>4.横竖屏<br>  1)如何禁止横竖屏切换时生命周期变换<br>  AndroidManifest中为Activity添加配置：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;</div></pre></td></tr></table></figure></p>\n<p>  2)如何禁止横屏：<br>  AndroidManifest中为Activity添加配置：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">android:screenOrientation=&quot;portrait&quot;</div></pre></td></tr></table></figure></p>\n<p>  3)Java代码中设置横竖屏：<br>  // 如果是竖屏则转为横屏<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">if (activity.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT) &#123;</div><div class=\"line\">  activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>  4)横竖屏变换时通常会有回调：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onConfigurationChanged(Configuration newConfig) &#123;</div><div class=\"line\">  super.onConfigurationChanged(newConfig);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>5.Activity设置为首页<br>  为Activity配置如下代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;intent-filter&gt;</div><div class=\"line\">  &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;</div><div class=\"line\">  &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;</div><div class=\"line\">&lt;/intent-filter&gt;</div></pre></td></tr></table></figure></p>\n<p>6.启动Actitiy的几种方式</p>\n"},{"title":"四大组件之BroadcastReceiver","date":"2016-10-18T12:51:00.000Z","_content":">BroadcastReceiver的作用有些类似全局的事件监听器，当整个手机的某一个APP或者手机自身触发事件，BroadcastReceiver接受并且处理，而且这种信号程序自身也可以创建。\n\n一.启动方式\n1.静态注册\n在AndroidManifest.xml中注册,需要填写action即广播地址.\n是常驻型,即使应用退出依旧可以接收到广播.\n```\n<receiver android:name=\".MyBroadcastReceiver\">  \n    <intent-filter>  \n        <action android:name=\"android.intent.action.MyBroadcastReceiver\"></action>  \n    </intent-filter>  \n</receiver>\n```\n2.动态注册\n在代码中注册,非\"常驻型\",不用时需调用unregisterReceiver否则会报错.\n```\n注册:\nMyBroadcastReceiver receiver=new MyBroadcastReceiver();\nIntentFilter filter=new IntentFilter();  \nfilter.addAction(\"android.intent.action.MyBroadcastReceiver\");  \nregisterReceiver(receiver, filter);  \n\n解除注册:\nunregisterReceiver(receiver);\n```\n\n二.广播类型\n1.无序广播\n各个广播直接的接收是异步的,彼此无影响\nsendBroadcast() 发送广播\nabortBroadcast() 终止广播\n\n2.有序广播\n按优先级获取, priority(-1000到1000),\nsendOrderedBroadcast() 发送广播\nabortBroadcast() 终止广播\n1)setResultExtras 传递给下一个\n2)getResultExtras 获取上一个\n","source":"_posts/四大组件之BroadcastReceiver.md","raw":"---\ntitle: 四大组件之BroadcastReceiver\ndate: 2016-10-18 20:51:00\ntags: Android\n---\n>BroadcastReceiver的作用有些类似全局的事件监听器，当整个手机的某一个APP或者手机自身触发事件，BroadcastReceiver接受并且处理，而且这种信号程序自身也可以创建。\n\n一.启动方式\n1.静态注册\n在AndroidManifest.xml中注册,需要填写action即广播地址.\n是常驻型,即使应用退出依旧可以接收到广播.\n```\n<receiver android:name=\".MyBroadcastReceiver\">  \n    <intent-filter>  \n        <action android:name=\"android.intent.action.MyBroadcastReceiver\"></action>  \n    </intent-filter>  \n</receiver>\n```\n2.动态注册\n在代码中注册,非\"常驻型\",不用时需调用unregisterReceiver否则会报错.\n```\n注册:\nMyBroadcastReceiver receiver=new MyBroadcastReceiver();\nIntentFilter filter=new IntentFilter();  \nfilter.addAction(\"android.intent.action.MyBroadcastReceiver\");  \nregisterReceiver(receiver, filter);  \n\n解除注册:\nunregisterReceiver(receiver);\n```\n\n二.广播类型\n1.无序广播\n各个广播直接的接收是异步的,彼此无影响\nsendBroadcast() 发送广播\nabortBroadcast() 终止广播\n\n2.有序广播\n按优先级获取, priority(-1000到1000),\nsendOrderedBroadcast() 发送广播\nabortBroadcast() 终止广播\n1)setResultExtras 传递给下一个\n2)getResultExtras 获取上一个\n","slug":"四大组件之BroadcastReceiver","published":1,"updated":"2017-02-18T13:31:11.742Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnaphe000wjc2z3s8a7kns","content":"<blockquote>\n<p>BroadcastReceiver的作用有些类似全局的事件监听器，当整个手机的某一个APP或者手机自身触发事件，BroadcastReceiver接受并且处理，而且这种信号程序自身也可以创建。</p>\n</blockquote>\n<p>一.启动方式<br>1.静态注册<br>在AndroidManifest.xml中注册,需要填写action即广播地址.<br>是常驻型,即使应用退出依旧可以接收到广播.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyBroadcastReceiver&quot;&gt;  </div><div class=\"line\">    &lt;intent-filter&gt;  </div><div class=\"line\">        &lt;action android:name=&quot;android.intent.action.MyBroadcastReceiver&quot;&gt;&lt;/action&gt;  </div><div class=\"line\">    &lt;/intent-filter&gt;  </div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>2.动态注册<br>在代码中注册,非”常驻型”,不用时需调用unregisterReceiver否则会报错.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">注册:</div><div class=\"line\">MyBroadcastReceiver receiver=new MyBroadcastReceiver();</div><div class=\"line\">IntentFilter filter=new IntentFilter();  </div><div class=\"line\">filter.addAction(&quot;android.intent.action.MyBroadcastReceiver&quot;);  </div><div class=\"line\">registerReceiver(receiver, filter);  </div><div class=\"line\"></div><div class=\"line\">解除注册:</div><div class=\"line\">unregisterReceiver(receiver);</div></pre></td></tr></table></figure></p>\n<p>二.广播类型<br>1.无序广播<br>各个广播直接的接收是异步的,彼此无影响<br>sendBroadcast() 发送广播<br>abortBroadcast() 终止广播</p>\n<p>2.有序广播<br>按优先级获取, priority(-1000到1000),<br>sendOrderedBroadcast() 发送广播<br>abortBroadcast() 终止广播<br>1)setResultExtras 传递给下一个<br>2)getResultExtras 获取上一个</p>\n","excerpt":"","more":"<blockquote>\n<p>BroadcastReceiver的作用有些类似全局的事件监听器，当整个手机的某一个APP或者手机自身触发事件，BroadcastReceiver接受并且处理，而且这种信号程序自身也可以创建。</p>\n</blockquote>\n<p>一.启动方式<br>1.静态注册<br>在AndroidManifest.xml中注册,需要填写action即广播地址.<br>是常驻型,即使应用退出依旧可以接收到广播.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyBroadcastReceiver&quot;&gt;  </div><div class=\"line\">    &lt;intent-filter&gt;  </div><div class=\"line\">        &lt;action android:name=&quot;android.intent.action.MyBroadcastReceiver&quot;&gt;&lt;/action&gt;  </div><div class=\"line\">    &lt;/intent-filter&gt;  </div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>2.动态注册<br>在代码中注册,非”常驻型”,不用时需调用unregisterReceiver否则会报错.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">注册:</div><div class=\"line\">MyBroadcastReceiver receiver=new MyBroadcastReceiver();</div><div class=\"line\">IntentFilter filter=new IntentFilter();  </div><div class=\"line\">filter.addAction(&quot;android.intent.action.MyBroadcastReceiver&quot;);  </div><div class=\"line\">registerReceiver(receiver, filter);  </div><div class=\"line\"></div><div class=\"line\">解除注册:</div><div class=\"line\">unregisterReceiver(receiver);</div></pre></td></tr></table></figure></p>\n<p>二.广播类型<br>1.无序广播<br>各个广播直接的接收是异步的,彼此无影响<br>sendBroadcast() 发送广播<br>abortBroadcast() 终止广播</p>\n<p>2.有序广播<br>按优先级获取, priority(-1000到1000),<br>sendOrderedBroadcast() 发送广播<br>abortBroadcast() 终止广播<br>1)setResultExtras 传递给下一个<br>2)getResultExtras 获取上一个</p>\n"},{"title":"四大组件之Service","date":"2016-10-16T12:32:13.000Z","_content":"Service是运行在主线程,在后台运行的一个组件.\n这里的后台指的是它的运行是完全不依赖UI的,即即使Activity销毁了,只要进程还在Service就在.\n处理耗时操作需开子线程,否则会ANR.\n需要在AndroidManifest.xml中注册.\n```\n<service\n    android:name=\".MyService\"\n    android:exported=\"true\" //是否需要对其他App开放,有intent-filter时默认值就是true\n    android:process=\":MyProcess\" > //指明此进程名称,可以单独运行在新的进程中\n    <intent-filter>\n        <action android:name=\"com.example.androidtest.myservice\" />\n    </intent-filter>\n</service>\n```\n1.Service类型\n1)普通Service\n运行在后台,优先级比较低.\n\n2)前台Service\n有一个正在运行的图标在系统的状态栏显示,类似于通知栏.\n```\npublic class MyService extends Service {  \n    public static final String TAG = \"MyService\";  \n    private MyBinder mBinder = new MyBinder();  \n    @Override  \n    public void onCreate() {  \n        super.onCreate();  \n        Notification notification = new Notification(R.drawable.ic_launcher,  \n                \"有通知到来\", System.currentTimeMillis());  \n        Intent notificationIntent = new Intent(this, MainActivity.class);  \n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,  \n                notificationIntent, 0);  \n        notification.setLatestEventInfo(this, \"这是通知的标题\", \"这是通知的内容\",  \n                pendingIntent);  \n        startForeground(1, notification);  \n        Log.d(TAG, \"onCreate() executed\");  \n    }  \n    .........  \n}  \n```\n3)IntentService\nService的一个子类,实现onHandlerIntent()方法,用于处理长期任务,并且是在新的线程中,\n处理完后会自动关闭.\n\n2.Service的生命周期\n两种启动方式\n1)startService (stopService结束)\nonCreate -> onStartCommand -> onDestory\n\n2)bindService (unbindService结束)\nonCreate -> onBind -> onUnBind -> onDestory\n","source":"_posts/四大组件之Service.md","raw":"---\ntitle: 四大组件之Service\ndate: 2016-10-16 20:32:13\ntags: Android\n---\nService是运行在主线程,在后台运行的一个组件.\n这里的后台指的是它的运行是完全不依赖UI的,即即使Activity销毁了,只要进程还在Service就在.\n处理耗时操作需开子线程,否则会ANR.\n需要在AndroidManifest.xml中注册.\n```\n<service\n    android:name=\".MyService\"\n    android:exported=\"true\" //是否需要对其他App开放,有intent-filter时默认值就是true\n    android:process=\":MyProcess\" > //指明此进程名称,可以单独运行在新的进程中\n    <intent-filter>\n        <action android:name=\"com.example.androidtest.myservice\" />\n    </intent-filter>\n</service>\n```\n1.Service类型\n1)普通Service\n运行在后台,优先级比较低.\n\n2)前台Service\n有一个正在运行的图标在系统的状态栏显示,类似于通知栏.\n```\npublic class MyService extends Service {  \n    public static final String TAG = \"MyService\";  \n    private MyBinder mBinder = new MyBinder();  \n    @Override  \n    public void onCreate() {  \n        super.onCreate();  \n        Notification notification = new Notification(R.drawable.ic_launcher,  \n                \"有通知到来\", System.currentTimeMillis());  \n        Intent notificationIntent = new Intent(this, MainActivity.class);  \n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,  \n                notificationIntent, 0);  \n        notification.setLatestEventInfo(this, \"这是通知的标题\", \"这是通知的内容\",  \n                pendingIntent);  \n        startForeground(1, notification);  \n        Log.d(TAG, \"onCreate() executed\");  \n    }  \n    .........  \n}  \n```\n3)IntentService\nService的一个子类,实现onHandlerIntent()方法,用于处理长期任务,并且是在新的线程中,\n处理完后会自动关闭.\n\n2.Service的生命周期\n两种启动方式\n1)startService (stopService结束)\nonCreate -> onStartCommand -> onDestory\n\n2)bindService (unbindService结束)\nonCreate -> onBind -> onUnBind -> onDestory\n","slug":"四大组件之Service","published":1,"updated":"2017-02-17T13:06:43.288Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnaphh000yjc2zyf8h6fsl","content":"<p>Service是运行在主线程,在后台运行的一个组件.<br>这里的后台指的是它的运行是完全不依赖UI的,即即使Activity销毁了,只要进程还在Service就在.<br>处理耗时操作需开子线程,否则会ANR.<br>需要在AndroidManifest.xml中注册.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;service</div><div class=\"line\">    android:name=&quot;.MyService&quot;</div><div class=\"line\">    android:exported=&quot;true&quot; //是否需要对其他App开放,有intent-filter时默认值就是true</div><div class=\"line\">    android:process=&quot;:MyProcess&quot; &gt; //指明此进程名称,可以单独运行在新的进程中</div><div class=\"line\">    &lt;intent-filter&gt;</div><div class=\"line\">        &lt;action android:name=&quot;com.example.androidtest.myservice&quot; /&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/service&gt;</div></pre></td></tr></table></figure></p>\n<p>1.Service类型<br>1)普通Service<br>运行在后台,优先级比较低.</p>\n<p>2)前台Service<br>有一个正在运行的图标在系统的状态栏显示,类似于通知栏.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyService extends Service &#123;  </div><div class=\"line\">    public static final String TAG = &quot;MyService&quot;;  </div><div class=\"line\">    private MyBinder mBinder = new MyBinder();  </div><div class=\"line\">    @Override  </div><div class=\"line\">    public void onCreate() &#123;  </div><div class=\"line\">        super.onCreate();  </div><div class=\"line\">        Notification notification = new Notification(R.drawable.ic_launcher,  </div><div class=\"line\">                &quot;有通知到来&quot;, System.currentTimeMillis());  </div><div class=\"line\">        Intent notificationIntent = new Intent(this, MainActivity.class);  </div><div class=\"line\">        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,  </div><div class=\"line\">                notificationIntent, 0);  </div><div class=\"line\">        notification.setLatestEventInfo(this, &quot;这是通知的标题&quot;, &quot;这是通知的内容&quot;,  </div><div class=\"line\">                pendingIntent);  </div><div class=\"line\">        startForeground(1, notification);  </div><div class=\"line\">        Log.d(TAG, &quot;onCreate() executed&quot;);  </div><div class=\"line\">    &#125;  </div><div class=\"line\">    .........  </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3)IntentService<br>Service的一个子类,实现onHandlerIntent()方法,用于处理长期任务,并且是在新的线程中,<br>处理完后会自动关闭.</p>\n<p>2.Service的生命周期<br>两种启动方式<br>1)startService (stopService结束)<br>onCreate -&gt; onStartCommand -&gt; onDestory</p>\n<p>2)bindService (unbindService结束)<br>onCreate -&gt; onBind -&gt; onUnBind -&gt; onDestory</p>\n","excerpt":"","more":"<p>Service是运行在主线程,在后台运行的一个组件.<br>这里的后台指的是它的运行是完全不依赖UI的,即即使Activity销毁了,只要进程还在Service就在.<br>处理耗时操作需开子线程,否则会ANR.<br>需要在AndroidManifest.xml中注册.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;service</div><div class=\"line\">    android:name=&quot;.MyService&quot;</div><div class=\"line\">    android:exported=&quot;true&quot; //是否需要对其他App开放,有intent-filter时默认值就是true</div><div class=\"line\">    android:process=&quot;:MyProcess&quot; &gt; //指明此进程名称,可以单独运行在新的进程中</div><div class=\"line\">    &lt;intent-filter&gt;</div><div class=\"line\">        &lt;action android:name=&quot;com.example.androidtest.myservice&quot; /&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/service&gt;</div></pre></td></tr></table></figure></p>\n<p>1.Service类型<br>1)普通Service<br>运行在后台,优先级比较低.</p>\n<p>2)前台Service<br>有一个正在运行的图标在系统的状态栏显示,类似于通知栏.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyService extends Service &#123;  </div><div class=\"line\">    public static final String TAG = &quot;MyService&quot;;  </div><div class=\"line\">    private MyBinder mBinder = new MyBinder();  </div><div class=\"line\">    @Override  </div><div class=\"line\">    public void onCreate() &#123;  </div><div class=\"line\">        super.onCreate();  </div><div class=\"line\">        Notification notification = new Notification(R.drawable.ic_launcher,  </div><div class=\"line\">                &quot;有通知到来&quot;, System.currentTimeMillis());  </div><div class=\"line\">        Intent notificationIntent = new Intent(this, MainActivity.class);  </div><div class=\"line\">        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,  </div><div class=\"line\">                notificationIntent, 0);  </div><div class=\"line\">        notification.setLatestEventInfo(this, &quot;这是通知的标题&quot;, &quot;这是通知的内容&quot;,  </div><div class=\"line\">                pendingIntent);  </div><div class=\"line\">        startForeground(1, notification);  </div><div class=\"line\">        Log.d(TAG, &quot;onCreate() executed&quot;);  </div><div class=\"line\">    &#125;  </div><div class=\"line\">    .........  </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3)IntentService<br>Service的一个子类,实现onHandlerIntent()方法,用于处理长期任务,并且是在新的线程中,<br>处理完后会自动关闭.</p>\n<p>2.Service的生命周期<br>两种启动方式<br>1)startService (stopService结束)<br>onCreate -&gt; onStartCommand -&gt; onDestory</p>\n<p>2)bindService (unbindService结束)<br>onCreate -&gt; onBind -&gt; onUnBind -&gt; onDestory</p>\n"},{"title":"如何在moudle中引入aar","date":"2017-01-16T12:32:45.000Z","_content":"app已经引入aar-A,如何在moudle中引入aar-B而不会出现问题?\n\n1.在moudle目录下的build.gradle\n```\nandroid{\n  repositories {\n    flatDir {\n        dirs 'libs'\n    }\n  }\n}\n\ndependencies {\n  compile(name: 'aar-B', ext: 'aar')\n}\n```\n 2.在app目录下的build.gradle\n```\nrepositories {\n    flatDir {\n        dirs('libs','../moudle/libs')\n    }\n}\n```\n","source":"_posts/如何在moudle中引入aar.md","raw":"---\ntitle: 如何在moudle中引入aar\ndate: 2017-01-16 20:32:45\ntags: Android Studio\n---\napp已经引入aar-A,如何在moudle中引入aar-B而不会出现问题?\n\n1.在moudle目录下的build.gradle\n```\nandroid{\n  repositories {\n    flatDir {\n        dirs 'libs'\n    }\n  }\n}\n\ndependencies {\n  compile(name: 'aar-B', ext: 'aar')\n}\n```\n 2.在app目录下的build.gradle\n```\nrepositories {\n    flatDir {\n        dirs('libs','../moudle/libs')\n    }\n}\n```\n","slug":"如何在moudle中引入aar","published":1,"updated":"2017-02-17T12:16:52.544Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnaphn0010jc2z37owkk6q","content":"<p>app已经引入aar-A,如何在moudle中引入aar-B而不会出现问题?</p>\n<p>1.在moudle目录下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">android&#123;</div><div class=\"line\">  repositories &#123;</div><div class=\"line\">    flatDir &#123;</div><div class=\"line\">        dirs &apos;libs&apos;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">dependencies &#123;</div><div class=\"line\">  compile(name: &apos;aar-B&apos;, ext: &apos;aar&apos;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p> 2.在app目录下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">repositories &#123;</div><div class=\"line\">    flatDir &#123;</div><div class=\"line\">        dirs(&apos;libs&apos;,&apos;../moudle/libs&apos;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","excerpt":"","more":"<p>app已经引入aar-A,如何在moudle中引入aar-B而不会出现问题?</p>\n<p>1.在moudle目录下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">android&#123;</div><div class=\"line\">  repositories &#123;</div><div class=\"line\">    flatDir &#123;</div><div class=\"line\">        dirs &apos;libs&apos;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">dependencies &#123;</div><div class=\"line\">  compile(name: &apos;aar-B&apos;, ext: &apos;aar&apos;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p> 2.在app目录下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">repositories &#123;</div><div class=\"line\">    flatDir &#123;</div><div class=\"line\">        dirs(&apos;libs&apos;,&apos;../moudle/libs&apos;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"title":"自定义View","date":"2017-02-17T13:07:24.000Z","_content":"一.使用LayoutInflater加载视图\n写法一:\n```\nLayoutInflater layoutInflater = LayoutInflater.from(context);\n```\n写法二:\n```\nLayoutInflater layoutInflater =(LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);  \n```\n加载布局:\n```\nlayoutInflater.inflate(resourceId, root);\n```\n补充:layout_width,layout_height其实是用于设置View在布局中的大小的,\n如果控件没有在布局中,这个参数就会不起作用,所以叫layout_width而不是width.\nsetContentView,系统会自动在布局外层嵌套一层FrameLayout.\n\n二.视图的绘制过程\n1. onMeasure\n2. onLayout\n3. onDraw\n\n三.自定义View\n1.自定义属性,编写value/attrs.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n <declare-styleable name=\"test\">\n     <attr name=\"text\" format=\"string\" />\n     <attr name=\"testAttr\" format=\"integer\" />\n </declare-styleable>\n</resources>\n```\n2.在自定义类中使用\n```\npublic class MyTextView extends View {\n    public MyTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.test);\n        String text = ta.getString(R.styleable.test_testAttr);\n        int textAttr = ta.getInteger(R.styleable.test_text, -1);\n        ta.recycle();\n    }\n}\n```\n3.在布局中使用\n```\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:demo=\"http://schemas.android.com/apk/res/com.example.test\" //自定义命名空间\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" >\n\n    <com.example.test.MyTextView\n        android:layout_width=\"100dp\"\n        android:layout_height=\"200dp\"\n        demo:testAttr=\"520\"\n        demo:text=\"hello world\" />\n\n</RelativeLayout>\n```\n","source":"_posts/自定义View.md","raw":"---\ntitle: 自定义View\ndate: 2017-02-17 21:07:24\ntags: Android\n---\n一.使用LayoutInflater加载视图\n写法一:\n```\nLayoutInflater layoutInflater = LayoutInflater.from(context);\n```\n写法二:\n```\nLayoutInflater layoutInflater =(LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);  \n```\n加载布局:\n```\nlayoutInflater.inflate(resourceId, root);\n```\n补充:layout_width,layout_height其实是用于设置View在布局中的大小的,\n如果控件没有在布局中,这个参数就会不起作用,所以叫layout_width而不是width.\nsetContentView,系统会自动在布局外层嵌套一层FrameLayout.\n\n二.视图的绘制过程\n1. onMeasure\n2. onLayout\n3. onDraw\n\n三.自定义View\n1.自定义属性,编写value/attrs.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n <declare-styleable name=\"test\">\n     <attr name=\"text\" format=\"string\" />\n     <attr name=\"testAttr\" format=\"integer\" />\n </declare-styleable>\n</resources>\n```\n2.在自定义类中使用\n```\npublic class MyTextView extends View {\n    public MyTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.test);\n        String text = ta.getString(R.styleable.test_testAttr);\n        int textAttr = ta.getInteger(R.styleable.test_text, -1);\n        ta.recycle();\n    }\n}\n```\n3.在布局中使用\n```\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:demo=\"http://schemas.android.com/apk/res/com.example.test\" //自定义命名空间\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" >\n\n    <com.example.test.MyTextView\n        android:layout_width=\"100dp\"\n        android:layout_height=\"200dp\"\n        demo:testAttr=\"520\"\n        demo:text=\"hello world\" />\n\n</RelativeLayout>\n```\n","slug":"自定义View","published":1,"updated":"2017-02-18T05:49:22.295Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapiy0018jc2znm2513z8","content":"<p>一.使用LayoutInflater加载视图<br>写法一:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">LayoutInflater layoutInflater = LayoutInflater.from(context);</div></pre></td></tr></table></figure></p>\n<p>写法二:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">LayoutInflater layoutInflater =(LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);</div></pre></td></tr></table></figure></p>\n<p>加载布局:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">layoutInflater.inflate(resourceId, root);</div></pre></td></tr></table></figure></p>\n<p>补充:layout_width,layout_height其实是用于设置View在布局中的大小的,<br>如果控件没有在布局中,这个参数就会不起作用,所以叫layout_width而不是width.<br>setContentView,系统会自动在布局外层嵌套一层FrameLayout.</p>\n<p>二.视图的绘制过程</p>\n<ol>\n<li>onMeasure</li>\n<li>onLayout</li>\n<li>onDraw</li>\n</ol>\n<p>三.自定义View<br>1.自定义属性,编写value/attrs.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;resources&gt;</div><div class=\"line\"> &lt;declare-styleable name=&quot;test&quot;&gt;</div><div class=\"line\">     &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;</div><div class=\"line\">     &lt;attr name=&quot;testAttr&quot; format=&quot;integer&quot; /&gt;</div><div class=\"line\"> &lt;/declare-styleable&gt;</div><div class=\"line\">&lt;/resources&gt;</div></pre></td></tr></table></figure></p>\n<p>2.在自定义类中使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyTextView extends View &#123;</div><div class=\"line\">    public MyTextView(Context context, AttributeSet attrs) &#123;</div><div class=\"line\">        super(context, attrs);</div><div class=\"line\">        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.test);</div><div class=\"line\">        String text = ta.getString(R.styleable.test_testAttr);</div><div class=\"line\">        int textAttr = ta.getInteger(R.styleable.test_text, -1);</div><div class=\"line\">        ta.recycle();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3.在布局中使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:demo=&quot;http://schemas.android.com/apk/res/com.example.test&quot; //自定义命名空间</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot; &gt;</div><div class=\"line\"></div><div class=\"line\">    &lt;com.example.test.MyTextView</div><div class=\"line\">        android:layout_width=&quot;100dp&quot;</div><div class=\"line\">        android:layout_height=&quot;200dp&quot;</div><div class=\"line\">        demo:testAttr=&quot;520&quot;</div><div class=\"line\">        demo:text=&quot;hello world&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure></p>\n","excerpt":"","more":"<p>一.使用LayoutInflater加载视图<br>写法一:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">LayoutInflater layoutInflater = LayoutInflater.from(context);</div></pre></td></tr></table></figure></p>\n<p>写法二:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">LayoutInflater layoutInflater =(LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);</div></pre></td></tr></table></figure></p>\n<p>加载布局:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">layoutInflater.inflate(resourceId, root);</div></pre></td></tr></table></figure></p>\n<p>补充:layout_width,layout_height其实是用于设置View在布局中的大小的,<br>如果控件没有在布局中,这个参数就会不起作用,所以叫layout_width而不是width.<br>setContentView,系统会自动在布局外层嵌套一层FrameLayout.</p>\n<p>二.视图的绘制过程</p>\n<ol>\n<li>onMeasure</li>\n<li>onLayout</li>\n<li>onDraw</li>\n</ol>\n<p>三.自定义View<br>1.自定义属性,编写value/attrs.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;resources&gt;</div><div class=\"line\"> &lt;declare-styleable name=&quot;test&quot;&gt;</div><div class=\"line\">     &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;</div><div class=\"line\">     &lt;attr name=&quot;testAttr&quot; format=&quot;integer&quot; /&gt;</div><div class=\"line\"> &lt;/declare-styleable&gt;</div><div class=\"line\">&lt;/resources&gt;</div></pre></td></tr></table></figure></p>\n<p>2.在自定义类中使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyTextView extends View &#123;</div><div class=\"line\">    public MyTextView(Context context, AttributeSet attrs) &#123;</div><div class=\"line\">        super(context, attrs);</div><div class=\"line\">        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.test);</div><div class=\"line\">        String text = ta.getString(R.styleable.test_testAttr);</div><div class=\"line\">        int textAttr = ta.getInteger(R.styleable.test_text, -1);</div><div class=\"line\">        ta.recycle();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3.在布局中使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:demo=&quot;http://schemas.android.com/apk/res/com.example.test&quot; //自定义命名空间</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot; &gt;</div><div class=\"line\"></div><div class=\"line\">    &lt;com.example.test.MyTextView</div><div class=\"line\">        android:layout_width=&quot;100dp&quot;</div><div class=\"line\">        android:layout_height=&quot;200dp&quot;</div><div class=\"line\">        demo:testAttr=&quot;520&quot;</div><div class=\"line\">        demo:text=&quot;hello world&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure></p>\n"},{"title":"记一次使用Realm的体会","date":"2017-02-16T12:42:40.000Z","_content":">数据库Realm，是用来替代sqlite的一种解决方案，它有一套自己的数据库存储引擎，比sqlite更轻量级，拥有更快的速度，并且具有很多现代数据库的特性，比如支持JSON，流式api，数据变更通知，自动数据同步,简单身份验证，访问控制，事件处理，最重要的是跨平台，目前已有Java，Objective C，Swift，React-Native，Xamarin这五种实现。\n官网:https://realm.io/docs/java/latest\n\n一.基于Version-0.87.5\n由于 v0.87.5之后的版本使用的是plugin形式添加引用,\n使用时会发现包增大好多(可能是自己使用时缺少了某些配置),\n所以这里介绍一个该版本的使用.\n1.引入\napp下的build.gradle\n```\ncompile 'io.realm:realm-android:0.87.5'\n```\n2.初始化\nApplication中\n```\n  private void initRealm() {\n        RealmConfiguration config = new RealmConfiguration.Builder(this).name(\"guess.realm\").schemaVersion(0).build();\n        Realm.setDefaultConfiguration(config);\n  }\n```\n3.使用\n新建对象\n```\npublic class PskBean extends RealmObject {\n    @PrimaryKey\n    private String ssid;\n    private String bssid;\n    private String psk;\n\n    public PskBean() {\n    }\n\n    public PskBean(String ssid, String bssid, String psk) {\n        this.ssid = ssid;\n        this.bssid = bssid;\n        this.psk = psk;\n    }\n\n    public String getSsid() {\n        return ssid;\n    }\n\n    public void setSsid(String ssid) {\n        this.ssid = ssid;\n    }\n\n    public String getBssid() {\n        return bssid;\n    }\n\n    public void setBssid(String bssid) {\n        this.bssid = bssid;\n    }\n\n    public String getPsk() {\n        return psk;\n    }\n\n    public void setPsk(String psk) {\n        this.psk = psk;\n    }\n}\n```\n数据库帮助类(只示例异步操作)\n```\npublic class RealmDBHelper {\n  private Realm mRealm;\n\n  public RealmDBHelper(Context context) {\n      mRealm = Realm.getInstance(context);\n  }\n\n  public Realm getRealm() {\n      return mRealm;\n  }\n\n  /**\n   * add （增）\n   */\n  public RealmAsyncTask addBean(final PskBean bean, final RealmCallback callback) {\n      RealmAsyncTask addTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              realm.copyToRealmOrUpdate(bean);\n          }\n      }, new Realm.Transaction.Callback() {\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return addTask;\n  }\n\n  /**\n   * delete （删）\n   */\n  public RealmAsyncTask deleteBean(final String ssid, final String bssid, final RealmCallback callback) {\n      RealmAsyncTask deleteTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              PskBean bean = realm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findFirst();\n              bean.removeFromRealm();\n          }\n      }, new Realm.Transaction.Callback() {\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return deleteTask;\n  }\n\n  /**\n   * update （改）\n   */\n  public RealmAsyncTask updateBean(final String ssid, final String bssid, final String psk, final RealmCallback callback) {\n      RealmAsyncTask updateTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              PskBean bean = realm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findFirst();\n              bean.setPsk(psk);\n          }\n      },new Realm.Transaction.Callback(){\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return updateTask;\n  }\n\n  /**\n   * query （查询所有）\n   */\n  private void queryAllBean(RealmCallback callback) {\n      RealmResults<PskBean> beans = mRealm.where(PskBean.class).findAllAsync();\n      callback.success(beans.load() ? beans : null);\n  }\n\n  /**\n   * query (单条)\n   */\n  private void querySingleBean(String ssid, String bssid, RealmCallback callback) {\n      RealmResults<PskBean> beans = mRealm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findAllAsync();\n      callback.success(beans.load() ? beans : null);\n  }\n\n  public void close() {\n      if (mRealm != null) {\n          mRealm.close();\n      }\n  }\n\n  public interface RealmCallback {\n      void success(RealmResults<PskBean> element);\n\n      void failure(String msg);\n  }\n}\n```\n4.混淆\n```\n# Realm #\n-keep class io.realm.annotations.RealmModule\n-keep @io.realm.annotations.RealmModule class *\n-keep class io.realm.internal.Keep\n-keep @io.realm.internal.Keep class * { *; }\n-dontwarn javax.**\n-dontwarn io.realm.**\n```\n此时打包会发现 包增大好多,大约4M左右.\n原因是默认情况下,Realm会引人所有规格的.so库\n如何处理?\napp下build.gradle,导出你需要的规格.so库\n```\nsplits {\n      abi {\n          enable true\n          reset()\n          include 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'x86', 'x86_64'\n          universalApk true\n      }\n  }\n```\n5.最后,数据并不是保存在 data/data/pagekageName/databases/目录下\n  而是在data/data/files/name.realm中\n","source":"_posts/记一次使用Realm的体会.md","raw":"---\ntitle: 记一次使用Realm的体会\ndate: 2017-02-16 20:42:40\ntags: Realm\n---\n>数据库Realm，是用来替代sqlite的一种解决方案，它有一套自己的数据库存储引擎，比sqlite更轻量级，拥有更快的速度，并且具有很多现代数据库的特性，比如支持JSON，流式api，数据变更通知，自动数据同步,简单身份验证，访问控制，事件处理，最重要的是跨平台，目前已有Java，Objective C，Swift，React-Native，Xamarin这五种实现。\n官网:https://realm.io/docs/java/latest\n\n一.基于Version-0.87.5\n由于 v0.87.5之后的版本使用的是plugin形式添加引用,\n使用时会发现包增大好多(可能是自己使用时缺少了某些配置),\n所以这里介绍一个该版本的使用.\n1.引入\napp下的build.gradle\n```\ncompile 'io.realm:realm-android:0.87.5'\n```\n2.初始化\nApplication中\n```\n  private void initRealm() {\n        RealmConfiguration config = new RealmConfiguration.Builder(this).name(\"guess.realm\").schemaVersion(0).build();\n        Realm.setDefaultConfiguration(config);\n  }\n```\n3.使用\n新建对象\n```\npublic class PskBean extends RealmObject {\n    @PrimaryKey\n    private String ssid;\n    private String bssid;\n    private String psk;\n\n    public PskBean() {\n    }\n\n    public PskBean(String ssid, String bssid, String psk) {\n        this.ssid = ssid;\n        this.bssid = bssid;\n        this.psk = psk;\n    }\n\n    public String getSsid() {\n        return ssid;\n    }\n\n    public void setSsid(String ssid) {\n        this.ssid = ssid;\n    }\n\n    public String getBssid() {\n        return bssid;\n    }\n\n    public void setBssid(String bssid) {\n        this.bssid = bssid;\n    }\n\n    public String getPsk() {\n        return psk;\n    }\n\n    public void setPsk(String psk) {\n        this.psk = psk;\n    }\n}\n```\n数据库帮助类(只示例异步操作)\n```\npublic class RealmDBHelper {\n  private Realm mRealm;\n\n  public RealmDBHelper(Context context) {\n      mRealm = Realm.getInstance(context);\n  }\n\n  public Realm getRealm() {\n      return mRealm;\n  }\n\n  /**\n   * add （增）\n   */\n  public RealmAsyncTask addBean(final PskBean bean, final RealmCallback callback) {\n      RealmAsyncTask addTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              realm.copyToRealmOrUpdate(bean);\n          }\n      }, new Realm.Transaction.Callback() {\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return addTask;\n  }\n\n  /**\n   * delete （删）\n   */\n  public RealmAsyncTask deleteBean(final String ssid, final String bssid, final RealmCallback callback) {\n      RealmAsyncTask deleteTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              PskBean bean = realm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findFirst();\n              bean.removeFromRealm();\n          }\n      }, new Realm.Transaction.Callback() {\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return deleteTask;\n  }\n\n  /**\n   * update （改）\n   */\n  public RealmAsyncTask updateBean(final String ssid, final String bssid, final String psk, final RealmCallback callback) {\n      RealmAsyncTask updateTask = mRealm.executeTransaction(new Realm.Transaction() {\n          @Override\n          public void execute(Realm realm) {\n              PskBean bean = realm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findFirst();\n              bean.setPsk(psk);\n          }\n      },new Realm.Transaction.Callback(){\n          @Override\n          public void onSuccess() {\n              super.onSuccess();\n              callback.success(null);\n          }\n\n          @Override\n          public void onError(Exception e) {\n              super.onError(e);\n              callback.failure(e.getMessage());\n          }\n      });\n      return updateTask;\n  }\n\n  /**\n   * query （查询所有）\n   */\n  private void queryAllBean(RealmCallback callback) {\n      RealmResults<PskBean> beans = mRealm.where(PskBean.class).findAllAsync();\n      callback.success(beans.load() ? beans : null);\n  }\n\n  /**\n   * query (单条)\n   */\n  private void querySingleBean(String ssid, String bssid, RealmCallback callback) {\n      RealmResults<PskBean> beans = mRealm.where(PskBean.class).equalTo(\"ssid\", ssid).equalTo(\"bssid\", bssid).findAllAsync();\n      callback.success(beans.load() ? beans : null);\n  }\n\n  public void close() {\n      if (mRealm != null) {\n          mRealm.close();\n      }\n  }\n\n  public interface RealmCallback {\n      void success(RealmResults<PskBean> element);\n\n      void failure(String msg);\n  }\n}\n```\n4.混淆\n```\n# Realm #\n-keep class io.realm.annotations.RealmModule\n-keep @io.realm.annotations.RealmModule class *\n-keep class io.realm.internal.Keep\n-keep @io.realm.internal.Keep class * { *; }\n-dontwarn javax.**\n-dontwarn io.realm.**\n```\n此时打包会发现 包增大好多,大约4M左右.\n原因是默认情况下,Realm会引人所有规格的.so库\n如何处理?\napp下build.gradle,导出你需要的规格.so库\n```\nsplits {\n      abi {\n          enable true\n          reset()\n          include 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'x86', 'x86_64'\n          universalApk true\n      }\n  }\n```\n5.最后,数据并不是保存在 data/data/pagekageName/databases/目录下\n  而是在data/data/files/name.realm中\n","slug":"记一次使用Realm的体会","published":1,"updated":"2017-02-17T12:17:38.600Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizcnapj00019jc2z6u08g8n8","content":"<blockquote>\n<p>数据库Realm，是用来替代sqlite的一种解决方案，它有一套自己的数据库存储引擎，比sqlite更轻量级，拥有更快的速度，并且具有很多现代数据库的特性，比如支持JSON，流式api，数据变更通知，自动数据同步,简单身份验证，访问控制，事件处理，最重要的是跨平台，目前已有Java，Objective C，Swift，React-Native，Xamarin这五种实现。<br>官网:<a href=\"https://realm.io/docs/java/latest\" target=\"_blank\" rel=\"external\">https://realm.io/docs/java/latest</a></p>\n</blockquote>\n<p>一.基于Version-0.87.5<br>由于 v0.87.5之后的版本使用的是plugin形式添加引用,<br>使用时会发现包增大好多(可能是自己使用时缺少了某些配置),<br>所以这里介绍一个该版本的使用.<br>1.引入<br>app下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;io.realm:realm-android:0.87.5&apos;</div></pre></td></tr></table></figure></p>\n<p>2.初始化<br>Application中<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">private void initRealm() &#123;</div><div class=\"line\">      RealmConfiguration config = new RealmConfiguration.Builder(this).name(&quot;guess.realm&quot;).schemaVersion(0).build();</div><div class=\"line\">      Realm.setDefaultConfiguration(config);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3.使用<br>新建对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class PskBean extends RealmObject &#123;</div><div class=\"line\">    @PrimaryKey</div><div class=\"line\">    private String ssid;</div><div class=\"line\">    private String bssid;</div><div class=\"line\">    private String psk;</div><div class=\"line\"></div><div class=\"line\">    public PskBean() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public PskBean(String ssid, String bssid, String psk) &#123;</div><div class=\"line\">        this.ssid = ssid;</div><div class=\"line\">        this.bssid = bssid;</div><div class=\"line\">        this.psk = psk;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getSsid() &#123;</div><div class=\"line\">        return ssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setSsid(String ssid) &#123;</div><div class=\"line\">        this.ssid = ssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getBssid() &#123;</div><div class=\"line\">        return bssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBssid(String bssid) &#123;</div><div class=\"line\">        this.bssid = bssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getPsk() &#123;</div><div class=\"line\">        return psk;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setPsk(String psk) &#123;</div><div class=\"line\">        this.psk = psk;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>数据库帮助类(只示例异步操作)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class RealmDBHelper &#123;</div><div class=\"line\">  private Realm mRealm;</div><div class=\"line\"></div><div class=\"line\">  public RealmDBHelper(Context context) &#123;</div><div class=\"line\">      mRealm = Realm.getInstance(context);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public Realm getRealm() &#123;</div><div class=\"line\">      return mRealm;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * add （增）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask addBean(final PskBean bean, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask addTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              realm.copyToRealmOrUpdate(bean);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;, new Realm.Transaction.Callback() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return addTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * delete （删）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask deleteBean(final String ssid, final String bssid, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask deleteTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              PskBean bean = realm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findFirst();</div><div class=\"line\">              bean.removeFromRealm();</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;, new Realm.Transaction.Callback() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return deleteTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * update （改）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask updateBean(final String ssid, final String bssid, final String psk, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask updateTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              PskBean bean = realm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findFirst();</div><div class=\"line\">              bean.setPsk(psk);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;,new Realm.Transaction.Callback()&#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return updateTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * query （查询所有）</div><div class=\"line\">   */</div><div class=\"line\">  private void queryAllBean(RealmCallback callback) &#123;</div><div class=\"line\">      RealmResults&lt;PskBean&gt; beans = mRealm.where(PskBean.class).findAllAsync();</div><div class=\"line\">      callback.success(beans.load() ? beans : null);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * query (单条)</div><div class=\"line\">   */</div><div class=\"line\">  private void querySingleBean(String ssid, String bssid, RealmCallback callback) &#123;</div><div class=\"line\">      RealmResults&lt;PskBean&gt; beans = mRealm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findAllAsync();</div><div class=\"line\">      callback.success(beans.load() ? beans : null);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public void close() &#123;</div><div class=\"line\">      if (mRealm != null) &#123;</div><div class=\"line\">          mRealm.close();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public interface RealmCallback &#123;</div><div class=\"line\">      void success(RealmResults&lt;PskBean&gt; element);</div><div class=\"line\"></div><div class=\"line\">      void failure(String msg);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>4.混淆<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Realm #</div><div class=\"line\">-keep class io.realm.annotations.RealmModule</div><div class=\"line\">-keep @io.realm.annotations.RealmModule class *</div><div class=\"line\">-keep class io.realm.internal.Keep</div><div class=\"line\">-keep @io.realm.internal.Keep class * &#123; *; &#125;</div><div class=\"line\">-dontwarn javax.**</div><div class=\"line\">-dontwarn io.realm.**</div></pre></td></tr></table></figure></p>\n<p>此时打包会发现 包增大好多,大约4M左右.<br>原因是默认情况下,Realm会引人所有规格的.so库<br>如何处理?<br>app下build.gradle,导出你需要的规格.so库<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">splits &#123;</div><div class=\"line\">      abi &#123;</div><div class=\"line\">          enable true</div><div class=\"line\">          reset()</div><div class=\"line\">          include &apos;armeabi&apos;, &apos;armeabi-v7a&apos;, &apos;arm64-v8a&apos;, &apos;mips&apos;, &apos;x86&apos;, &apos;x86_64&apos;</div><div class=\"line\">          universalApk true</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<p>5.最后,数据并不是保存在 data/data/pagekageName/databases/目录下<br>  而是在data/data/files/name.realm中</p>\n","excerpt":"","more":"<blockquote>\n<p>数据库Realm，是用来替代sqlite的一种解决方案，它有一套自己的数据库存储引擎，比sqlite更轻量级，拥有更快的速度，并且具有很多现代数据库的特性，比如支持JSON，流式api，数据变更通知，自动数据同步,简单身份验证，访问控制，事件处理，最重要的是跨平台，目前已有Java，Objective C，Swift，React-Native，Xamarin这五种实现。<br>官网:<a href=\"https://realm.io/docs/java/latest\">https://realm.io/docs/java/latest</a></p>\n</blockquote>\n<p>一.基于Version-0.87.5<br>由于 v0.87.5之后的版本使用的是plugin形式添加引用,<br>使用时会发现包增大好多(可能是自己使用时缺少了某些配置),<br>所以这里介绍一个该版本的使用.<br>1.引入<br>app下的build.gradle<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;io.realm:realm-android:0.87.5&apos;</div></pre></td></tr></table></figure></p>\n<p>2.初始化<br>Application中<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">private void initRealm() &#123;</div><div class=\"line\">      RealmConfiguration config = new RealmConfiguration.Builder(this).name(&quot;guess.realm&quot;).schemaVersion(0).build();</div><div class=\"line\">      Realm.setDefaultConfiguration(config);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3.使用<br>新建对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class PskBean extends RealmObject &#123;</div><div class=\"line\">    @PrimaryKey</div><div class=\"line\">    private String ssid;</div><div class=\"line\">    private String bssid;</div><div class=\"line\">    private String psk;</div><div class=\"line\"></div><div class=\"line\">    public PskBean() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public PskBean(String ssid, String bssid, String psk) &#123;</div><div class=\"line\">        this.ssid = ssid;</div><div class=\"line\">        this.bssid = bssid;</div><div class=\"line\">        this.psk = psk;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getSsid() &#123;</div><div class=\"line\">        return ssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setSsid(String ssid) &#123;</div><div class=\"line\">        this.ssid = ssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getBssid() &#123;</div><div class=\"line\">        return bssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBssid(String bssid) &#123;</div><div class=\"line\">        this.bssid = bssid;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getPsk() &#123;</div><div class=\"line\">        return psk;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setPsk(String psk) &#123;</div><div class=\"line\">        this.psk = psk;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>数据库帮助类(只示例异步操作)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class RealmDBHelper &#123;</div><div class=\"line\">  private Realm mRealm;</div><div class=\"line\"></div><div class=\"line\">  public RealmDBHelper(Context context) &#123;</div><div class=\"line\">      mRealm = Realm.getInstance(context);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public Realm getRealm() &#123;</div><div class=\"line\">      return mRealm;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * add （增）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask addBean(final PskBean bean, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask addTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              realm.copyToRealmOrUpdate(bean);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;, new Realm.Transaction.Callback() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return addTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * delete （删）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask deleteBean(final String ssid, final String bssid, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask deleteTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              PskBean bean = realm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findFirst();</div><div class=\"line\">              bean.removeFromRealm();</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;, new Realm.Transaction.Callback() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return deleteTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * update （改）</div><div class=\"line\">   */</div><div class=\"line\">  public RealmAsyncTask updateBean(final String ssid, final String bssid, final String psk, final RealmCallback callback) &#123;</div><div class=\"line\">      RealmAsyncTask updateTask = mRealm.executeTransaction(new Realm.Transaction() &#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void execute(Realm realm) &#123;</div><div class=\"line\">              PskBean bean = realm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findFirst();</div><div class=\"line\">              bean.setPsk(psk);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;,new Realm.Transaction.Callback()&#123;</div><div class=\"line\">          @Override</div><div class=\"line\">          public void onSuccess() &#123;</div><div class=\"line\">              super.onSuccess();</div><div class=\"line\">              callback.success(null);</div><div class=\"line\">          &#125;</div><div class=\"line\"></div><div class=\"line\">          @Override</div><div class=\"line\">          public void onError(Exception e) &#123;</div><div class=\"line\">              super.onError(e);</div><div class=\"line\">              callback.failure(e.getMessage());</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">      return updateTask;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * query （查询所有）</div><div class=\"line\">   */</div><div class=\"line\">  private void queryAllBean(RealmCallback callback) &#123;</div><div class=\"line\">      RealmResults&lt;PskBean&gt; beans = mRealm.where(PskBean.class).findAllAsync();</div><div class=\"line\">      callback.success(beans.load() ? beans : null);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">   * query (单条)</div><div class=\"line\">   */</div><div class=\"line\">  private void querySingleBean(String ssid, String bssid, RealmCallback callback) &#123;</div><div class=\"line\">      RealmResults&lt;PskBean&gt; beans = mRealm.where(PskBean.class).equalTo(&quot;ssid&quot;, ssid).equalTo(&quot;bssid&quot;, bssid).findAllAsync();</div><div class=\"line\">      callback.success(beans.load() ? beans : null);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public void close() &#123;</div><div class=\"line\">      if (mRealm != null) &#123;</div><div class=\"line\">          mRealm.close();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  public interface RealmCallback &#123;</div><div class=\"line\">      void success(RealmResults&lt;PskBean&gt; element);</div><div class=\"line\"></div><div class=\"line\">      void failure(String msg);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>4.混淆<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Realm #</div><div class=\"line\">-keep class io.realm.annotations.RealmModule</div><div class=\"line\">-keep @io.realm.annotations.RealmModule class *</div><div class=\"line\">-keep class io.realm.internal.Keep</div><div class=\"line\">-keep @io.realm.internal.Keep class * &#123; *; &#125;</div><div class=\"line\">-dontwarn javax.**</div><div class=\"line\">-dontwarn io.realm.**</div></pre></td></tr></table></figure></p>\n<p>此时打包会发现 包增大好多,大约4M左右.<br>原因是默认情况下,Realm会引人所有规格的.so库<br>如何处理?<br>app下build.gradle,导出你需要的规格.so库<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">splits &#123;</div><div class=\"line\">      abi &#123;</div><div class=\"line\">          enable true</div><div class=\"line\">          reset()</div><div class=\"line\">          include &apos;armeabi&apos;, &apos;armeabi-v7a&apos;, &apos;arm64-v8a&apos;, &apos;mips&apos;, &apos;x86&apos;, &apos;x86_64&apos;</div><div class=\"line\">          universalApk true</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<p>5.最后,数据并不是保存在 data/data/pagekageName/databases/目录下<br>  而是在data/data/files/name.realm中</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cizcnaper0004jc2znmd8fjds","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapff0007jc2z219f53xf"},{"post_id":"cizcnapdt0000jc2z1p9oe6tg","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapfn0009jc2zrfb4lka4"},{"post_id":"cizcnapf30005jc2z3zjnwrx4","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapfz000cjc2zf1mwdtif"},{"post_id":"cizcnapfg0008jc2zldvvku22","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapg6000ejc2zjcte9dqk"},{"post_id":"cizcnape70001jc2z9ax6h0aj","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapgb000hjc2zfrhevmd9"},{"post_id":"cizcnapfp000ajc2zm0tdu7cu","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapgg000jjc2zuqot6e4e"},{"post_id":"cizcnapeo0003jc2zv04wm8hr","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapgk000ljc2zcq1karra"},{"post_id":"cizcnapgg000kjc2zhfoh89lu","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapgp000ojc2z6l6vtcq7"},{"post_id":"cizcnapg0000djc2zhdaczwl6","tag_id":"cizcnapgb000gjc2z3ol0jpcu","_id":"cizcnapgw000qjc2zn0c4ttvi"},{"post_id":"cizcnapgl000mjc2zkk5r4f1b","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnaph5000tjc2zl44twye2"},{"post_id":"cizcnapg7000fjc2zktmfm8bk","tag_id":"cizcnapgn000njc2zn1359qs3","_id":"cizcnaphd000vjc2zkxcyrorv"},{"post_id":"cizcnapgc000ijc2zw967i19p","tag_id":"cizcnaph4000sjc2zc7x2117q","_id":"cizcnaphk000zjc2zwax9ioaq"},{"post_id":"cizcnaphe000wjc2z3s8a7kns","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnaphp0011jc2zc8qyo00d"},{"post_id":"cizcnaphh000yjc2zyf8h6fsl","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnaphr0013jc2zl2lbjrv9"},{"post_id":"cizcnapgp000pjc2z5api6174","tag_id":"cizcnaphg000xjc2z1wde4tdx","_id":"cizcnaphr0014jc2zidlf5lwc"},{"post_id":"cizcnaph5000ujc2z6yuetmb7","tag_id":"cizcnaphq0012jc2z6o3gd6t7","_id":"cizcnaphs0016jc2z5ly6k34i"},{"post_id":"cizcnaphn0010jc2z37owkk6q","tag_id":"cizcnaphs0015jc2zsryw9n6e","_id":"cizcnapht0017jc2zxlkcmdlf"},{"post_id":"cizcnapiy0018jc2znm2513z8","tag_id":"cizcnapef0002jc2z7mb39hk6","_id":"cizcnapj3001ajc2zkwjtdxoo"},{"post_id":"cizcnapj00019jc2z6u08g8n8","tag_id":"cizcnapj7001bjc2zkrf344c4","_id":"cizcnapj9001cjc2zsxdqmz8j"}],"Tag":[{"name":"Android","_id":"cizcnapef0002jc2z7mb39hk6"},{"name":"Java","_id":"cizcnapgb000gjc2z3ol0jpcu"},{"name":"架构","_id":"cizcnapgn000njc2zn1359qs3"},{"name":"tools","_id":"cizcnaph4000sjc2zc7x2117q"},{"name":"github","_id":"cizcnaphg000xjc2z1wde4tdx"},{"name":"四大组件之Activity","_id":"cizcnaphq0012jc2z6o3gd6t7"},{"name":"Android Studio","_id":"cizcnaphs0015jc2zsryw9n6e"},{"name":"Realm","_id":"cizcnapj7001bjc2zkrf344c4"}]}}